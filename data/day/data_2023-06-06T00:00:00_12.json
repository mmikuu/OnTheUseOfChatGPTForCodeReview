{
    "data": {
        "search": {
            "edges": [
                {
                    "node": {
                        "number": 75,
                        "title": "Fix: edit quiz ux improvements",
                        "repository": {
                            "nameWithOwner": "rajatkantinandi/quizmaster",
                            "primaryLanguage": {
                                "name": "TypeScript"
                            }
                        },
                        "createdAt": "2023-08-24T09:44:10Z",
                        "mergedAt": "2023-08-31T09:23:17Z",
                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75",
                        "state": "MERGED",
                        "author": {
                            "login": "govind007"
                        },
                        "editor": {
                            "login": "govind007"
                        },
                        "body": "- [x] To improve correction option functionality, Error check if more than one options are same \r\n- [x] Allow image-only option \r\n- [x] Setting max. size feature for image \r\n- [x] Save the last activity of the user- When the user are editing the question and if switch to a different section/question, it automatically deletes ",
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Did you test this one, working properly for various images. Try images from unsplash, Wikipedia, some news sites, etc. Try png, jpg, jpeg, gif files.",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1304401241",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "What's the different between this and the above error message? Should both messages be the same?",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1304402525",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Maybe take extract options here. No need of line 42\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n              const options = watch('options');\n          \n          \n            \n              const isWithoutOptions = options.length === 1;\n          \n          \n            \n              const { points, text } = watch();\n          \n          \n            \n              const { points, text, options } = watch();\n          \n          \n            \n              const isWithoutOptions = options.length === 1;",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1304404117",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Is it safe to call watch here inside an useEffect?",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1304405240",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Or we can use the value from watch from the above? We should probably call watch once to avoid perf issues.",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1304406431",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Can we create a helper function that does both trim + replace and returns clean string?",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1304408240",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                                validate: (value: string) => !!getImageOrTextContent(value) || 'Option text should not be empty!',\n          \n          \n            \n                                validate: (value: string) => !!getImageOrTextContent(value) || 'Option should not be empty!',",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1304412078",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "it will go in catch if url is correct but content is not loadable or blocked by browser, above error message will show if url is not correct",
                                                        "author": {
                                                            "login": "govind007"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1305151604",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "using ...rest to get rest data",
                                                        "author": {
                                                            "login": "govind007"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1305153351",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Ohh. And what happens if network error?",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1305173956",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "1 minor comment",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Maybe call this getCleanText as we are not just trimming?",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1306346484",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1782676",
                                                            "authoredDate": "2023-08-25T06:01:25Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "coming in catch if if network error",
                                                        "author": {
                                                            "login": "govind007"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1311122624",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "checked for all images type. working fine",
                                                        "author": {
                                                            "login": "govind007"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1311150043",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "OK",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1311155758",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Cool",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1311155944",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85e5f0e",
                                                            "authoredDate": "2023-08-24T09:40:36Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "We have to support webp, tiff, bmp and jpg as well. Maybe SVG as well.",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1311157180",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "ed15a7f",
                                                            "authoredDate": "2023-08-31T06:25:58Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "These are the valid image mime types as per chatGPT: https://chat.openai.com/share/d44b7044-8482-471e-94f1-fe5d2d4b6407",
                                                        "author": {
                                                            "login": "rajatkantinandi"
                                                        },
                                                        "url": "https://github.com/rajatkantinandi/quizmaster/pull/75#discussion_r1311161413",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "ed15a7f",
                                                            "authoredDate": "2023-08-31T06:25:58Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 220,
                        "title": "[Off-Chain] Add `EventsReplayClient` Generic Event Listener for `BlockClient` and `DelegationClient`",
                        "repository": {
                            "nameWithOwner": "pokt-network/poktroll",
                            "primaryLanguage": {
                                "name": "Go"
                            }
                        },
                        "createdAt": "2023-11-23T21:52:18Z",
                        "mergedAt": "2023-12-07T21:57:39Z",
                        "url": "https://github.com/pokt-network/poktroll/pull/220",
                        "state": "MERGED",
                        "author": {
                            "login": "h5law"
                        },
                        "editor": {
                            "login": "reviewpad"
                        },
                        "body": "## Summary\r\n\r\n### Human Summary\r\n\r\nThis PR converts the existing `BlockClient` into an implenentation of the generic `EventsReplayClient` which subscribes to and listens for on chain events and maps them into the desired type of the implemented `EventsReplayClient`\r\n\r\nBlockClient -> `EventsReplayClient[Block]`\r\nDelegationClient -> `EventsReplayClient[DelegateeChange]`\r\n\r\nThese new client interfaces have their own methods which wrap those exposed by the `EventsReplayClient`\r\n\r\n### AI Summary\r\n\r\n<!-- reviewpad:summarize:start -->\n### Summary generated by Reviewpad on 07 Dec 23 20:34 UTC\nThis pull request:\n- Modifies the `ring_signer.go` file in the `pkg/signer` package by updating the comments for the `NewRingSigner` function and the `Sign` method.\n- Introduces a new `client_integration_test.go` file in the `pkg/client/delegation` package, which contains a test function for the `DelegationClient` redelegation functionality. However, the test is currently skipped and needs further investigation and fixing.\n- Adds a new file `replay_client.go` in the `pkg/client/events` package, which implements a replay client for handling events and provides various functions for interacting with the client.\n- Contains changes in the `claim.go` file under the `pkg/relayer/session` package, involving refactoring and optimization of code.\n- Removes an empty line in the SupplierAll function in a certain file.\n- Deletes the `errors.go` file, which contained a package named `websocket` and imported another package named `errorsmod`, as well as defined an error variable and a codespace variable.\n- Adds a new file `godoc.go` in the `pkg/client/block` package, which is a wrapper for the `EventsReplayClient[Block]` generic and listens for committed block events on the chain.\n- Introduces a new file `event.proto` in the `pocket/application` directory, defining a protocol buffer message `EventRedelegation` for application delegatee gateway changes on the chain.\n- Includes changes in a certain file related to table formatting, addition of new interfaces and components, and import statements.\n- Adds a new file `errors.go` with error handling functionality specific to event handling in the client package.\n- Modifies the flag descriptions and import statements in a certain file.\n- Changes import statements and the file structure in a certain file.\n- Updates comments, including changes from \"serialised\" to \"serialized\" in various files.\n- Adds a new file `client_test.go` with test cases for the `DelegationClient` struct.\n- Introduces a new file `websocket` that provides a websocket client for connecting to a cosmos-sdk based chain node.\n- Adds a new file `godoc.go` that contains documentation for the `delegation` package and its functionalities.\n- Adds a new file `redelegation.go` that defines a struct and a factory function for deserializing data into the struct.\n- Adds a new file that provides a generic client for subscribing to on-chain events with the usage of ReplayObservables.\n- Renames and modifies import statements in a file.\n- Modifies a file by adding assertions for events in test functions.\n- Renames and modifies the `client_integration_test.go` file, including changes in the package name and import statements.\n- Modifies a file by adding new lines, formatting, and emission of events.\n- Deletes the `events_query.md` file that provided an overview of the package.\n- Changes the URL in the Makefile for accessing the generated documentation.\n- Modifies the import statement in a file.\n- Adds a new method to a struct in a file.\n\nPlease let me know if you need further assistance or have any questions.\n<!-- reviewpad:summarize:end -->\r\n\r\n## Issue\r\n\r\n- Fixes N/A\r\n\r\n## Type of change\r\n\r\nSelect one or more:\r\n\r\n- [x] New feature, functionality or library\r\n- [ ] Bug fix\r\n- [ ] Code health or cleanup\r\n- [ ] Documentation\r\n- [ ] Other (specify)\r\n\r\n## Testing\r\n\r\n- [x] **Run all unit tests**: `make go_develop_and_test`\r\n- [x] **Verify Localnet manually**: See the instructions [here](TODO: add link to instructions)\r\n\r\n## Sanity Checklist\r\n\r\n- [x] I have tested my changes using the available tooling\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, updated documentation and left TODOs throughout the codebase\r\n",
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "These is the generic MappedClient interface",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1404615681",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b913818",
                                                            "authoredDate": "2023-11-24T19:34:25Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "@h5law After thinking about it for a bit, I think this should be called EventsReplayClient.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1404826103",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b913818",
                                                            "authoredDate": "2023-11-24T19:34:25Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I still plan on looking more closely at the package structure but haven't had a chance to do so yet.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1404826407",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b913818",
                                                            "authoredDate": "2023-11-24T19:34:25Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I actually called this the ReplayClient first then the TransformingClient \ud83e\udd16 then MappedClient lmao",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1404830908",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b913818",
                                                            "authoredDate": "2023-11-24T19:34:25Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I also think that the block and delegate clients should lightly wrap (as opposed to bring or embedding) this generic type so that they have control over their own method names and, more importantly, become independently open for extension (SOLID).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1404879904",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b913818",
                                                            "authoredDate": "2023-11-24T19:34:25Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I think this should be called BlocksReplayObservable to improve clarity. I get that it's defined in the block package but when reading code that uses is in the block package, it can be a bit confusing.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405183974",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b0b468c",
                                                            "authoredDate": "2023-11-25T17:12:02Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Similar feedback here, I feel like DelegateeChangeReplayObservable (or something similar) would improve readability.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405184648",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b0b468c",
                                                            "authoredDate": "2023-11-25T17:12:02Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Don't forget to update comments referencing anything that's getting renamed.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405189746",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b0b468c",
                                                            "authoredDate": "2023-11-25T17:12:02Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This package should be eventsreplay. No need to append \u201dclient\".",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405190321",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b0b468c",
                                                            "authoredDate": "2023-11-25T17:12:02Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "On second thought, perhaps this should be pkg/client/event/ instead. That would be more consistent with what you've done with block and delegate. Wdyt?",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405195022",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b0b468c",
                                                            "authoredDate": "2023-11-25T17:12:02Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "TL;DR, I think these need to be re-consolidated into pkg/client/interfaces.\nFriendly reminder that go package dependency  trees are DAGs. These interfaces SHOULD not be defined in the same package as their implementation. It is likely to create an import cycle now or in the future.\nTypically it's considered good practice to prefer defining interfaces in, or closer to, the consumer package. Perhaps it's best to think about the fact that this package exports these interfaces as a convenience so that there is a common place for consumers to import them from as they are pretty general purpose and consumer pkgs will be numerous and disparate. It should follow then, that when the consumer pkg imports the pkg containing these interfaces, the resulting branch which is included in the dependency tree SHOULD not include any implementations.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405852929",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "(same as #220 (comment))",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405853702",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I feel like it would make more sense for this and pkg/client/events_query to be the same package. However, upon reflection, I don't see any reason not to simplify the name to pkg/client/events, like it is here.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405858160",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \tmappedClient client.EventsReplayClient[client.Block, client.EventsObservable[client.Block]]\n          \n          \n            \n            \teventsReplayClient client.EventsReplayClient[client.Block, client.EventsObservable[client.Block]]",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405874699",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \treturn &blockClient{mappedClient: client}, nil\n          \n          \n            \n            \treturn &eventsReplayClient{mappedClient: client}, nil",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405875196",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \treturn b.mappedClient.EventsSequence(ctx).(BlockReplayObservable)\n          \n          \n            \n            \treturn b.eventsReplayClient.EventsSequence(ctx).(BlockReplayObservable)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405875427",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \tevents := b.mappedClient.LastNEvents(ctx, n)\n          \n          \n            \n            \tevents := b.eventsReplayClient.LastNEvents(ctx, n)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405875687",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \tb.mappedClient.Close()\n          \n          \n            \n            \tb.eventsReplayClient.Close()",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405875900",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I don't think this should be necessary any more, client.Block is T and the generic signature of LastNEvents is func (mClient *replayClient[T, R]) LastNEvents(ctx context.Context, n int) []T.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405878215",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "(same as #220 (comment))",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405883423",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "[linter-name (fail-on-found)] reported by reviewdog \ud83d\udc36// TODO_IN_THIS_PR: Figure out how to use real components of the localnet",
                                                        "author": {
                                                            "login": "github-actions"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1412710356",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "ca068a0",
                                                            "authoredDate": "2023-12-02T03:01:16Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              if the `EventsQueryClient` returns an error/is closed.\n          \n          \n            \n              if the `EventsQueryClient` returns an error or is closed unexpectedly.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1413824904",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I like how you've added structure to make room here. \ud83d\ude0e\nWdyt about adding links to the godoc? They will eventually be updated after this is merged. In the meantime you can use the make go_docs target to double-check the URL path.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1413828311",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I had linked to the v0.47 page specifically as some things around events have changed in v0.50 IIRC. I find myself wanting to also suggest adding a TODO to update this (and the analogous comment in EventsQueryClient) but I don't think there's a good place for that in the docs. I've started #240 as a way to capture things like this (and I've already added this one).\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            // See: https://docs.cosmos.network/main/learn/advanced/events#subscribing-to-events\n          \n          \n            \n            // And: https://docs.cosmos.network/main/learn/advanced/events#default-events\n          \n          \n            \n            // See: https://docs.cosmos.network/v0.47/learn/advanced/events#subscribing-to-events\n          \n          \n            \n            // And: https://docs.cosmos.network/v0.47/learn/advanced/events#default-events",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1413844336",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Let's add a  TODO around the txClient definition to refactor it in terms of EventsReplayClient. I think it can probably be simplified by its usage as well but this PR is already big enough. \ud83d\ude05",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414322217",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Please update the Clients Dependency Tree diagram:\n\n  \n    \n      ---\ntitle: Clients Dependency Tree\n---\nflowchart\nsup[SupplierClient]\ntx[TxClient]\ntxctx[[TxContext]]\nsubgraph bl[BlockClient]\n    bl_evt_replay[EventsReplayClient]\nend\nsubgraph del[DelegationClient]\n    del_evt_replay[EventsReplayClient]\nend\nevt[EventsQueryClient]\nconn[[Connection]]\ndial[[Dialer]]\nsup --\"#SignAndBroadcast()\"--> tx\ntx --\"#CommittedBlocksSequence()\"--> bl\ntx --\"#BroadcastTx\"--> txctx\ntx --\"#EventsBytes()\"--> evt\nbl_evt_replay --\"#EventsBytes()\"--> evt\ndel_evt_replay --\"#EventsBytes()\"--> evt\nevt --> conn\nevt --\"#DialContext()\"--> dial\ndial --\"(returns)\"--> conn",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414326427",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "NIT:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            \tdelegationClient, err := delegation.NewDelegationClient(ctx, deps, testclient.CometLocalWebsocketURL)\n          \n          \n            \n            \t// NB: the URL passed to  `NewDelegationClient` is irrelevant here because `eventsQueryClient` is a mock.\n          \n          \n            \n            \tdelegationClient, err := delegation.NewDelegationClient(ctx, deps, testclient.CometLocalWebsocketURL)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414331978",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "You should be able to uncomment most of this and add a t.SkipNow() call to prevent it from running:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            // func TestDelegationClient_DelegateeChangesObservables(t *testing.T) {\n          \n          \n            \n            // TODO_TEST/TODO_TECHDEBT: ...\n          \n          \n            \n            func TestDelegationClient_DelegateeChangesObservables(t *testing.T) {\n          \n          \n            \n            \tt.SkipNow()",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414334589",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This is my bad:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n              b -.\"A uses D via network IO\".-> d\n          \n          \n            \n              b -.\"B uses D via network IO\".-> d",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414339145",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'm still thinking about this flowchart (i.e. will have more feedback) but the first thing I notice is that it's upside down; take a look at the legend one more time.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414340113",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I think we should look for opportunities to unify the disparate diagrams with consistent naming and structure of shared components, especially external; e.g. Pocket Network vs Cometbft  Node / Action vs subscribe endpoint. In this case, I think there's more value in aligning these things category theoretically such that the reader doesn't have to interpret two different representations of the same thing (and hopefully realize that's the intent).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414346305",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'm noticing that EventsQueryClient is described here in terms of inert sub-components. Whereas, in EventsQueryClient Components, it's (already) described using sub-components which actually associate with others.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414349754",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Publish Events Factory seems like it should be named retryPublishEventsFactory. Additionally, it's a a function represented as a rectangle, but rectangles represent components in the legend (and rest of the diagram).\nIn other places I've used a rounded rectangle to represent functions or methods. Regardless of how that \"kind\" of thing is represented, it should be:\n\nDistinct from other \"kinds\" which are already defined (for other purposes; i.e. component, usage associations, etc.).\nUsed consistently for that \"kind\", currently retry.OnError is depicted as a usage association. It also needs to change and should be represented the same way as retryPublishEventsFactory (assuming  both are still represented in the next iteration).\nSufficiently described in the legend to be unambiguous (i.e. hard to misinterpret).\n\nThink of the legend as a design language that you construct for a set of diagrams. You can tailor that design language to what you're trying to emphasize (in the diagrams that share that design language). But in the end it needs to be self-consistent and unambiguous. Usage must also be consistent and conformal.\nI also find it useful to take a somewhat \"category theoretical\" perspective to it in that you're describing the identity of things (perhaps in different terms per design language). As such, the distinctions between categories and their degrees of freedom should be unambiguous.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414399074",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "FWIW the legend also doesn't currently define rules around encapsulation. That could be taken as an opportunity either to add some and express them in here, or to reconsider representing encapsulation so strictly (e.g. EventsQueryClient/EventsReplayClient). I don't have a strong opinion here but wanted to share some additional perspective with the expectation that you'll make an appropriate decision.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414443662",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            const cometWebsocketURL = \"ws://example.com:36657\"\n          \n          \n            \n            const cometWebsocketURL = \"ws://example.com:36657/websocket\"",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414556229",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              GetName() string\n          \n          \n            \n              GetName() string // Illustrative only; arbitrary interfaces are supported.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414556795",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Wdyt about making this example use a factory function as that's a pattern that may prove useful in many consumer contexts? We can use a context.Context in this example but perhaps there are other and/or more idiomatic factory function parameters.\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            func newEventType(eventBz []byte) EventType {\n          \n          \n            \n              eventMsg := new(eventType)\n          \n          \n            \n              if err := json.Unmarshal(eventBz, eventMsg); err != nil {\n          \n          \n            \n                return nil, err\n          \n          \n            \n              }\n          \n          \n            \n            \n          \n          \n            \n              // Confirm the event is correct by checking its fields\n          \n          \n            \n              if eventMsg.Name == \"\" {\n          \n          \n            \n                return nil, events.ErrEventsUnmarshalEvent.\n          \n          \n            \n                  Wrapf(\"unable to unmarshal eventType: %s\", string(eventBz))\n          \n          \n            \n              }\n          \n          \n            \n            \n          \n          \n            \n              return eventMsg, nil\n          \n          \n            \n            }\n          \n          \n            \n            // TODO_IN_THIS_COMMIT: godoc\n          \n          \n            \n            // TODO_IN_THIS_COMMIT: move to `pkg/client/events/...`\n          \n          \n            \n            type NewEventFn[T any] = func([]byte) T\n          \n          \n            \n            \n          \n          \n            \n            func eventTypeFactory(ctx context.Context) NewEventFn[EventType] {\n          \n          \n            \n              return function(eventBz []byte) EventType {  eventMsg := new(eventType)\n          \n          \n            \n                logger := polylog.Ctx(ctx)\n          \n          \n            \n              \n          \n          \n            \n                if err := json.Unmarshal(eventBz, eventMsg); err != nil {\n          \n          \n            \n                  return nil, err\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                // Confirm the event is correct by checking its fields\n          \n          \n            \n                if eventMsg.Name == \"\" {\n          \n          \n            \n                  return nil, events.ErrEventsUnmarshalEvent.\n          \n          \n            \n                    Wrapf(\"with eventType data: %s\", string(eventBz))\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                return eventMsg, nil\n          \n          \n            \n              }\n          \n          \n            \n            }",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414561885",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Perhaps it would also be worth defining a NewEventFn = func([]byte) EventType generic (see suggestion above).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414568543",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'm wondering if it makes sense for either retry.OnError or retryPublishEventsFactory  to be in this diagram. This diagram should be about the relationship betwen the components that are necessary for this unit to function.\nI think it makes more sense for retry.OnError and retryPublishEventsFactory to be central in some other diagram about the retry loop; perhaps a flowchart or state diagram showing the ways in which the client can get disconnected, how it recovers, and ultimately aborts and errors. There should be an analogous diagram for the EventsQueryClient as it does a similar thing IIRC. Perhaps they can be represented in the same diagram, but it's okay if not. We could also save this diagram for later and add a TODO in a > TODO_DOCS: ... quote line under the diagram.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414576341",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Again this is my fault, but wdyt about renaming these to be more consistent with the naming structure our on-chain errors?",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414580521",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Wdyt about something like this (included in #220 (comment))?\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n                  Wrapf(\"unable to unmarshal eventType: %s\", string(eventBz))\n          \n          \n            \n                  Wrapf(\"with eventType data: %s\", string(eventBz))",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414581768",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "NIT:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            latestEventsObsvbl := client.EventsSequence(ctx)\n          \n          \n            \n            // Get the latest events from the sequence\n          \n          \n            \n            lastEventType := latestEventsObsvbl.Last(ctx, 1)[0]\n          \n          \n            \n            latestEventsObs := client.EventsSequence(ctx)\n          \n          \n            \n            // Get the latest events from the sequence\n          \n          \n            \n            lastEventType := latestEventsObs.Last(ctx, 1)[0]",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414583141",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "The error message is a bit redundant as ErrEventsUnmarshalEvent contains \"failed to unmarshal event bytes\" (similar to #220 (comment)).\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            \t\treturn nil, events.ErrEventsUnmarshalEvent.\n          \n          \n            \n            \t\t\tWrapf(\"unable to unmarshal block: %s\", string(blockMsgBz))\n          \n          \n            \n            \t\treturn nil, events.ErrEventsUnmarshalEvent.\n          \n          \n            \n            \t\t\tWrapf(\"with block data: %s\", string(blockMsgBz))",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414584486",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // blockClient is a wrapper around an EventsReplayClient that implements the\n          \n          \n            \n            // interface for use in network.\n          \n          \n            \n            // blockClient is a wrapper around an EventsReplayClient that implements the\n          \n          \n            \n            // BlockClient interface for use with cosmos-sdk networks.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414586331",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I think the #EventBytes (NIT: #EventBytes()) association is inaccurately represented as network I/O.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414588008",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'm wondering if it makes sense for either retry.OnError or retryPublishEventsFactory to be in this diagram. This diagram should be about the relationship betwen the components that are necessary for this unit to function.\n\nSimilar feedback on DecoderFunction. It probably make sense to have a diagram that focuses on data transformation through EventsReplayClient, which DecoderFunction would be a critical part of. Also, is there a name that's more consistent with the code or have I just not read that part yet?",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414590757",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "NIT: Wdyt about newEventFn (also see #220 (comment))",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414591213",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Wdyt about renaming this to latestObs. Open to better suggestions but I think the consistency would be an improvement.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414592294",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // LastNEvents returns the latest typed event that's been received by the\n          \n          \n            \n            // LastNEvents returns the last N typed events that have been received by the",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414593325",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This statement is no longer true as the EventsReplayClient is encapsulated now.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414597094",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "(same as #220 (comment))",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414597725",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "\ud83d\udcaf",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414597856",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "#PUC, and I don't think we need to mention gomock at this level.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414598304",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Should this be delegatee?",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414599736",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t\teventsBzObsvbl, err := rClient.eventsClient.EventsBytes(ctx, rClient.queryString)\n          \n          \n            \n            \t\tif err != nil {\n          \n          \n            \n            \t\t\terrCh <- err\n          \n          \n            \n            \t\t\treturn errCh\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\t// NB: must cast back to generic observable type to use with Map.\n          \n          \n            \n            \t\t// client.BlocksObservable cannot be an alias due to gomock's lack of\n          \n          \n            \n            \t\t// support for generic types.\n          \n          \n            \n            \t\teventsBz := observable.Observable[either.Either[[]byte]](eventsBzObsvbl)\n          \n          \n            \n            \t\teventsBzObs, err := rClient.eventsClient.EventsBytes(ctx, rClient.queryString)\n          \n          \n            \n            \t\tif err != nil {\n          \n          \n            \n            \t\t\terrCh <- err\n          \n          \n            \n            \t\t\treturn errCh\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\t// NB: must cast back to generic observable type to use with Map.\n          \n          \n            \n            \t\t// client.BlocksObservable cannot be an alias due to gomock's lack of\n          \n          \n            \n            \t\t// support for generic types.\n          \n          \n            \n            \t\teventsBz := observable.Observable[either.Either[[]byte]](eventsBzObs)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414600750",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t\ttypedObsrvbl := channel.MapReplay(\n          \n          \n            \n            \t\t\tctx,\n          \n          \n            \n            \t\t\tlatestReplayBufferSize,\n          \n          \n            \n            \t\t\teventsBz,\n          \n          \n            \n            \t\t\trClient.newEventsBytesToTypeMapFn(errCh),\n          \n          \n            \n            \t\t)\n          \n          \n            \n            \n          \n          \n            \n            \t\t// Initially set latestObsvbls and update if after retrying on error.\n          \n          \n            \n            \t\trClient.latestObsvblsReplayPublishCh <- typedObsrvbl.(R)\n          \n          \n            \n            \t\ttypedObs := channel.MapReplay(\n          \n          \n            \n            \t\t\tctx,\n          \n          \n            \n            \t\t\tlatestReplayBufferSize,\n          \n          \n            \n            \t\t\teventsBz,\n          \n          \n            \n            \t\t\trClient.newEventsBytesToTypeMapFn(errCh),\n          \n          \n            \n            \t\t)\n          \n          \n            \n            \n          \n          \n            \n            \t\t// Initially set latestObs and update if after retrying on error.\n          \n          \n            \n            \t\trClient.latestObsvblsReplayPublishCh <- typedObs.(R)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414601075",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "\ud83d\ude0e",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414601613",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "UPDATE: maybe something like cachedObs is even better?",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414602595",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Thus far, I've been naming functions that are intended to be used with channel.Map() as mapXXX. Wdyt about something like this?:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            // newEventsBytesToTypeMapFn is a factory for a function which is intended\n          \n          \n            \n            // to be used as a transformFn in a channel.Map() call. Since the map function\n          \n          \n            \n            // is called asynchronously, this factory creates a closure around an error\n          \n          \n            \n            // channel which can be used for asynchronous error signaling from within the\n          \n          \n            \n            // map function, and handling from the Map call context.\n          \n          \n            \n            //\n          \n          \n            \n            // The map function itself attempts to deserialize the given byte slice as a\n          \n          \n            \n            // the EventsReplayClient's generic typed event, using the decoder function provided.\n          \n          \n            \n            // If the events bytes observable contained an error, this value is not emitted\n          \n          \n            \n            // (skipped) on the destination observable of the map operation.\n          \n          \n            \n            //\n          \n          \n            \n            // If deserialisation failed because the event bytes were for a different event\n          \n          \n            \n            // type, this value is also skipped. If deserialisation failed for some other\n          \n          \n            \n            // reason, this function panics.\n          \n          \n            \n            func (rClient *replayClient[T, R]) newEventsBytesToTypeMapFn(errCh chan<- error) func(\n          \n          \n            \n            // newMapEventsBytesToTFn is a factory for a function which is intended\n          \n          \n            \n            // to be used as a transformFn in a channel.Map() call. Since the map function\n          \n          \n            \n            // is called asynchronously, this factory creates a closure around an error\n          \n          \n            \n            // channel which can be used for asynchronous error signaling from within the\n          \n          \n            \n            // map function, and handling from the Map call context.\n          \n          \n            \n            //\n          \n          \n            \n            // The map function itself attempts to deserialize the given byte slice as a\n          \n          \n            \n            // the EventsReplayClient's generic typed event, using the decoder function provided.\n          \n          \n            \n            // If the events bytes observable contained an error, this value is not emitted\n          \n          \n            \n            // (skipped) on the destination observable of the map operation.\n          \n          \n            \n            //\n          \n          \n            \n            // If deserialisation failed because the event bytes were for a different event\n          \n          \n            \n            // type, this value is also skipped. If deserialisation failed for some other\n          \n          \n            \n            // reason, this function panics.\n          \n          \n            \n            func (rClient *replayClient[T, R]) newMapEventsBytesToTFn(errCh chan<- error) func(",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414605388",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "\ud83d\udcaf",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414605801",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "DISMISSED",
                                        "bodyText": "Not a complete review, but leaving some comments in the interim.\n\n\nReally good PR overall with lots of good comments, good code, great functionality, etc...\n\n\nLeft some non-actionable comments throughout. Feel free to treat them as FYI and resolve\n\n\nI think there is a big opportunity for smaller PRs when we hit something like this in the future. For example, this was titled off-chain but you ended up introducing on-chain components. Even though the ordering of implementation may have led to this, we could've split out on-chain vs off-chain, the EventsReplayClient into its own thing, the actual business logic, etc... I think it could be 2-4 modular PRs that are easier to review in isolation.\n\n\nThe majority of the comments in this document are great but sometimes the comment just describes the actual code line underneath which isn't useful.\n\n\nAs an extreme example: const n = 5 is a constant with the name n equaling to 5\nIn the particularly hard to understand parts (e.g. observable of observables observing observables), explaining why would go a long way!",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "what do you think of adding a different error here?\nI feel like if unmarshalling failed, we'd hit line 36. I think should explicitly say something that'll imply: Block Header height is 0, may be an umarshalling issue.\nWdyt?",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414582562",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // NewBlockClient creates a new block client from the given dependencies and\n          \n          \n            \n            // cometWebsocketURL. It uses the defined committedBlocksQuery to subscribe to\n          \n          \n            \n            // newly committed block events and maps them to Block objects, using the\n          \n          \n            \n            // newCometBlockEvent function as the mapping function.\n          \n          \n            \n            //\n          \n          \n            \n            // This is an implementation of the EventsReplayClient[Block] generic.\n          \n          \n            \n            // correctly mock the interface.\n          \n          \n            \n            // NewBlockClient creates a new block client from the given dependencies and\n          \n          \n            \n            // cometWebsocketURL. It uses a pre-defined committedBlocksQuery to subscribe to\n          \n          \n            \n            // newly committed block events which are mapped to Block objects.\n          \n          \n            \n            //\n          \n          \n            \n            // This implementsthe EventsReplayClient[Block] generic to correctly mock the interface.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414587957",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // Package websocket provides a websocket client used to connect to a node\n          \n          \n            \n            // Package websocket provides a websocket client used to connect to a pocket node",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414588897",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "We can leave this as is, but generally I try to avoid this level of implementation detail in the comments.\nIf we ever abstract websocket to use something other than gorilla/websocket, there's a high likelihood the developer will forget to update this too.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414589759",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "PUC explaining why.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414590293",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "I kind of feel like this belongs alongside everything in supplier.go. Please revert",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414591020",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Can you #PUC on where/how this is used? Reading this is even confusing me, so a bit more context on a use-case would help.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414766716",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "#PUC \u261d\ufe0f\nI was going to challenge that block is the right package name if exposing EventsReplayClient was it's goal, so please consider that as well.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414778232",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // delegationEventQuery is the query used by the EventsQueryClien to subscribe\n          \n          \n            \n            // delegationEventQuery is the query used by the EventsQueryClient to subscribe",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414778461",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "\ud83d\ude0e",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414778706",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Either pre-defined or hard-coded\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            // dependencies and cometWebsocketURL. It uses the defined delegationEventQuery\n          \n          \n            \n            // dependencies and cometWebsocketURL. It uses the pre-defined delegationEventQuery",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414779099",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "There's a lot of how and not enough why in these comments.\nTrying to emphasize with someone new to the codebase who is making their way through.\nNot asking to change it here (too much work) but keep this in mind for the future.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414779652",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "@bryanchriswhite Even though I observed (pun intended) the evolution of observables, it's really hard for me to understand what this is doing.\n@h5law Can you #PUC on what this enables (not just a description of the type)?",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414784488",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // and closes all subsequent connections.\n          \n          \n            \n            // and closes all downstream connections.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414785012",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            //\t- Create app and gateway actors\n          \n          \n            \n            // - Create app and gateway actors",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414785218",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // TODO(@h5law): Figure out how to use real components of the localnet\n          \n          \n            \n            // TODO_UPNEXT(@h5law): Figure out how to use real components of the localnet",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414785428",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Ditto the comment and file name",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414785879",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Not actionable\n@h5law Not going to ask to break this PR into smaller components, but for future reference, we could have made it easier but making the on-chain piece a separate PR upstream of this.\nI realize you probably implemented the other part first, but more of a decision once it was complete.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414786945",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Great changes to the unit tests!",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414788381",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t// Emit the application delegation change event\n          \n          \n            \n            \t// Emit the application undelegation change event",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414789213",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t\tlogger.Error(\"Failed to emit application delegation change event: %v\", err)\n          \n          \n            \n            \t\tlogger.Error(\"Failed to emit application undelegation change event: %v\", err)",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414789332",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "We should add the gateway address here as well.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414790049",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "We should add the gateway address here as well.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414790100",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Let's add gateway_address or delegatee_address here too.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414810089",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \tErrEventsWebsocketReceive = sdkerrors.Register(codespace, 1, \"failed to receive event\")\n          \n          \n            \n            \tErrEventsWebsocketReceive = sdkerrors.Register(codespace, 1, \"failed to receive event over websocket connection to pocket node\")",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414811038",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "One of the reasons I believe you're struggling with this test is because we're trying to use keeper outside of on-chain code. Seems to be the first instance of it:\n\nIf you look in x/supplier/client/cli/query_claim_test.go, what we do is:\n\nCreate an in-memory network\nUse the test CLI to create claim objects\n\n@bryanchriswhite is reworking that code in #236 but the idea is the same and what I think you want instead of using the keepers directly.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414814844",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "We already have DefaultApplicationModuleGenesisState, so I don't think copy-pasting that is correct.\nWhy not consolidate the two?",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414817107",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Ditto for DefaultGatewayModuleGenesisState",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414817261",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "\ud83d\udc4d I would even suggest omitting the reference to \"unmarshaling\" because it's already expressed in the error description.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415688187",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I think we can broaden the constraint, at this low level, to be cosmos-sdk based chains/networks/nodes. Wdyt?",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415690333",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This was my suggestion. My rationale was that the tx client can be expressed more simply in terms of an EventsReplayClient for the same reasons as BlockClient and DelegationClient.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415697476",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "(cc @Olshansk)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415700255",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "// CommittedBlocksSequence returns a replay observable of new block events.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415703643",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Tbh that seems totally fair, this specific example involves quite high-level abstractions/objects. A future rename may go a long way but in the meantime, this indirection is the trade-off for:\n\nSmaller step sizes between components (e.g. EventsQueryClient --> EventsReplayClient --> BlockClient).\nDelaying migration away from gomock.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415714614",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I did this as well in #236 (here) because I was not prepared to refactor all the usages of networkWithApplicationObjects(). However, I don't see where this is being used in this branch.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415730721",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Wdyt about renaming this (see #239 comment)?\nWe loose the specificity of whether the app is the delegatee or the delegator but that is unambiguously defined by the protocol so I think it's worth the trade-off.\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            type DelegateeChange interface {\n          \n          \n            \n            type Redelegation interface {",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415926761",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // BlockReplayObservable wraps the generic\n          \n          \n            \n            // observable.ReplayObservable[Block] type\n          \n          \n            \n            // BlockReplayObservable is a defined type which is a replay observable of type Block.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415940512",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Rataionale behind \"defined type\" nomenclature: https://chat.openai.com/share/8f5daa07-dc01-4434-a978-c728923f6e78",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415941546",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Wdyt about something like this?\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            \t// latestObsvblsReplayBufferSize is the replay buffer size of the\n          \n          \n            \n            \t// latestObsvbls replay observable which is used to cache the latest observable.\n          \n          \n            \n            \t// It is updated with a new \"active\" observable when a new\n          \n          \n            \n            \t// events query subscription is created, for example, after a non-persistent\n          \n          \n            \n            \t// connection error.\n          \n          \n            \n            \tlatestObsvblsReplayBufferSize = 1\n          \n          \n            \n            \t// latestReplayBufferSize is the replay buffer size of the latest replay\n          \n          \n            \n            \t// observable which is notified when block commit events are received\n          \n          \n            \n            \t// by the events query client subscription created in goPublishEvents.\n          \n          \n            \n            \tlatestReplayBufferSize = 1\n          \n          \n            \n            \t// replayObsCacheBufferSize is the replay buffer size of the\n          \n          \n            \n            \t// replayObsCache replay observable which is used to cache the replay\n          \n          \n            \n            \t// observable that is notified of new events.\n          \n          \n            \n            \t// It, replayObsCache, is updated with a new \"active\" observable when a new\n          \n          \n            \n            \t// events query subscription is created, for example, after a non-persistent\n          \n          \n            \n            \t// connection error.\n          \n          \n            \n            \treplayObsCacheBufferSize = 1\n          \n          \n            \n            \t// replayObsBufferSize is the replay buffer size of the replay observable\n          \n          \n            \n            \t// which is notified of new events.\n          \n          \n            \n            \treplayObsBufferSize = 1",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415968048",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "See #220 (comment) and #220 (comment).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415971174",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t// latestObsvbls is a replay observable with replay buffer size 1,\n          \n          \n            \n            \t// which holds the \"active latest observable\" which is notified when\n          \n          \n            \n            \t// new events are received by the events query client subscription\n          \n          \n            \n            \t// created in goPublishEvents. This observable (and the one it emits) closes\n          \n          \n            \n            \t// when the events bytes observable returns an error and is updated with a\n          \n          \n            \n            \t// new \"active\" observable after a new events query subscription is created.\n          \n          \n            \n            \tlatestObsvbls observable.ReplayObservable[U]\n          \n          \n            \n            \t// replayObsCache is a replay observable with replay buffer size 1,\n          \n          \n            \n            \t// which holds the \"active replay observable\" which is notified of new\n          \n          \n            \n            \t// events. The \"active replay observable\" closes in the event of an upstream\n          \n          \n            \n            \t// error, and a new \"active\" observable is published to replayObsCache after\n          \n          \n            \n            \t//  a new events query subscription is created.\n          \n          \n            \n            \treplayObsCache observable.ReplayObservable[U]",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415980747",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \tlatestObsvbls,\n          \n          \n            \n            \t\tlatestObsvblsReplayPublishCh := channel.NewReplayObservable[U](\n          \n          \n            \n            \t\tctx,\n          \n          \n            \n            \t\tlatestReplayBufferSize,\n          \n          \n            \n            \t)\n          \n          \n            \n            \trClient.latestObsvbls = observable.ReplayObservable[U](latestObsvbls)\n          \n          \n            \n            \trClient.latestObsvblsReplayPublishCh = latestObsvblsReplayPublishCh\n          \n          \n            \n            \treplayObsCache,\treplayObsCachePublishCh := channel.NewReplayObservable[U](\n          \n          \n            \n            \t\tctx,\n          \n          \n            \n            \t\treplayObsCacheBufferSize,\n          \n          \n            \n            \t)\n          \n          \n            \n            \trClient.replayObsCache = observable.ReplayObservable[U](replayObsCache)\n          \n          \n            \n            \trClient.replayObsPublishCh = replayObsPublishCh",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415985013",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t// latestObsvblsReplayPublishCh is the publish channel for latestObsvbls.\n          \n          \n            \n            \t// It's used to set latestObsvbls initially and subsequently update it, for\n          \n          \n            \n            \t// example, when the connection is re-established after erroring.\n          \n          \n            \n            \tlatestObsvblsReplayPublishCh chan<- U\n          \n          \n            \n            \t// replayObsCachePublishCh is the publish channel for replayObsCache.\n          \n          \n            \n            \t// It's used to initially set and subsequently update the events replay observable; for\n          \n          \n            \n            \t// example, when the connection is re-established after erroring.\n          \n          \n            \n            \treplayObsCachePublishCh chan<- U",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415990512",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I think this should be received as a parameter and should not have a default (i.e. I think we should remove this const).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415997101",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \treplayObs := observable.ReplayObservable[R](rClient.latestObsvbls)\n          \n          \n            \n            \treplayObs := observable.ReplayObservable[R](rClient.replayObsCache)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416004743",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "#PUC if we make replayObsBufferSize a parameter of the constructor.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416005925",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // which is notified when new events are received by the events query subscription.\n          \n          \n            \n            // which is notified when new events are received by the encapsulated EventsQueryClient.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416007320",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t// Get the latest events observable from the replay observable. We only ever\n          \n          \n            \n            \t// want the last 1 as any prior latest events observable values are closed.\n          \n          \n            \n            \t// Directly accessing the zeroth index here is safe because the call to Last\n          \n          \n            \n            \t// is guaranteed to return a slice with at least 1 element.\n          \n          \n            \n            \t// Get the active event replay observable from replayObsCache. Only the last element\n          \n          \n            \n            \t// is useful as any prior elements are closed replay observables.\n          \n          \n            \n            \t// Directly accessing the zeroth index here is safe because the call to Last\n          \n          \n            \n            \t// is guaranteed to return a slice with at least 1 element.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416011259",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'm imagining something like this:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            // DelegateeChangesSequence returns a replay observable of observables for\n          \n          \n            \n            // delegation events from the DelegationClient.\n          \n          \n            \n            func (b *delegationClient) DelegateeChangesSequence(ctx context.Context) client.DelegateeChangeReplayObservable {\n          \n          \n            \n            // RedelegationsSequence returns a replay observable of Redelgation events\n          \n          \n            \n            // observed by the  DelegationClient.\n          \n          \n            \n            func (b *delegationClient) RedelegationsSequence(ctx context.Context) client.RedelegationsReplayObservable {",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416015332",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "WDYT of the update? @Olshansk @bryanchriswhite",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416120916",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "@Olshansk https://arc.net/l/quote/npxdzlgu this approach was in progress and I will go back to it after your comment",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416151165",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "No we only need the app address there is no need for any other fields, adds bloat we dont use",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416227794",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Remnants from my old test strategy\nremoving",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416228472",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "[linter-name (fail-on-found)] reported by reviewdog \ud83d\udc36// TODO_IN_THIS_COMMIT: godoc",
                                                        "author": {
                                                            "login": "github-actions"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416244260",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "28e4923",
                                                            "authoredDate": "2023-12-05T20:29:55Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "[linter-name (fail-on-found)] reported by reviewdog \ud83d\udc36// TODO_IN_THIS_COMMIT: move to pkg/client/events/...",
                                                        "author": {
                                                            "login": "github-actions"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416244262",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "28e4923",
                                                            "authoredDate": "2023-12-05T20:29:55Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Am against this as it is irrelevent to its usage",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416244716",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "See other comments on this",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416244898",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Tried and failed left comment, think its something to do with the networks subscribiton to events unsure atm.",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416475303",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'm noticing that this diagram needs one of:\nA. Its own legend, in which the usage via network I/O association direction matches the diagram\nB. To be rewritten in terms of the legend provided in the previous section (i.e. turn it upside-down)\nC. A note or some other indicator that the legend in the section above only applies to that section and/or does not apply to this section\nI think A is ideal but C would be sufficient for now. I think this diagram reads better as written (as opposed to upside-down). I also think that the component diagrams above read best  they way they are (i.e. shouldn't be turned upside-down either).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417011181",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // Define an interface to represent the onchain event\n          \n          \n            \n            // Define an interface to represent an arbitrary onchain event",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417014472",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Why does this function need to close over the ctx? It doesn't look like the returned function uses it at all. \ud83e\udd14",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417018681",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Now that the block client exposes #LastNBlocks()  instead of #LatestBlock(), I think it's prudent that we increase this. I think we should also rename it to defaultBlocksReplayLimit and add a TODO:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            \treplayObsBufferSize  = 1 // the amount of events we want before they are emitted\n          \n          \n            \n            \t// TODO_TECHDEBT/TODO_FUTURE: add a `blocksReplayLimit` field to the block client struct that defaults to this but can be overridden via an option in future work.\n          \n          \n            \n            \tdefaultBlocksReplayLimit  = 100 // the number of blocks that the replay observable returned by LastNBlocks() will be able to replay.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417030309",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // LatestsNEvents returns the latest n blocks from the BockClient.\n          \n          \n            \n            // LatestsNBlocks returns the last n blocks observed by the BockClient.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417034621",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // through a ReplayObservable. This enables consumers to listen for on-chain\n          \n          \n            \n            // application delegation changes and react to them asynchronously.\n          \n          \n            \n            // through a ReplayObservable. This enables consumers to listen for newly\n          \n          \n            \n            // committed blocks and react to them asynchronously.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417036467",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Similar feedback to #220 (comment).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417040558",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "NIT:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            \t// Initialise the mapped client\n          \n          \n            \n            \t// Initialize the mapped client",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417043709",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \tlatestObsvbls,\n          \n          \n            \n            \t\tlatestObsvblsReplayPublishCh := channel.NewReplayObservable[U](\n          \n          \n            \n            \t\tctx,\n          \n          \n            \n            \t\treplayObsBufferSize,\n          \n          \n            \n            \t)\n          \n          \n            \n            \trClient.replayObsCache = observable.ReplayObservable[U](latestObsvbls)\n          \n          \n            \n            \trClient.replayObsCachePublishCh = latestObsvblsReplayPublishCh\n          \n          \n            \n            \treplayObsCache, replayObsCachePublishCh := channel.NewReplayObservable[U](\n          \n          \n            \n            \t\tctx,\n          \n          \n            \n            \t\treplayObsBufferSize,\n          \n          \n            \n            \t)\n          \n          \n            \n            \trClient.replayObsCache = observable.ReplayObservable[U](replayObsCache)\n          \n          \n            \n            \trClient.replayObsCachePublishCh = replayObsCachePublishCh",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417045072",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This file should probably be renamed to redelegation.go as well.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417051233",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        },
                        {
                            "property": "body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 1,
                        "title": "switch to pypi version of MolecularNodes",
                        "repository": {
                            "nameWithOwner": "kolibril13/ipyMolecularNodes",
                            "primaryLanguage": {
                                "name": "Jupyter Notebook"
                            }
                        },
                        "createdAt": "2023-09-28T06:54:15Z",
                        "mergedAt": "2023-09-28T08:31:04Z",
                        "url": "https://github.com/kolibril13/ipyMolecularNodes/pull/1",
                        "state": "MERGED",
                        "author": {
                            "login": "BradyAJohnston"
                        },
                        "editor": null,
                        "body": "I put Molecular Nodes up on pypi, so it can be installed from there and no longer requires \nthe internal packaging. The example `.ipynb` now works with the the installed version.\n\n",
                        "reviews": {
                            "edges": []
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 2,
                        "title": "Initial commit",
                        "repository": {
                            "nameWithOwner": "erobitschek/med-ml",
                            "primaryLanguage": {
                                "name": "Python"
                            }
                        },
                        "createdAt": "2023-09-19T10:05:31Z",
                        "mergedAt": "2023-09-24T19:42:53Z",
                        "url": "https://github.com/erobitschek/med-ml/pull/2",
                        "state": "MERGED",
                        "author": {
                            "login": "erobitschek"
                        },
                        "editor": null,
                        "body": "Initial commit with better modularization",
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "Really nice PR! I've added a bunch of comments, but can tell how much effort you put into it and how much better you already got at programming in such little time! Have fun going through things and learning more :-)",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "nit: is -> are",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1329997038",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Nice \"self links\"!",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1329997202",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Nit: Capitalize for consistency",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1329999328",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "I'd move these dataclasses elsewhere to separate a concrete configuration and the configuration classes.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330420624",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Use an enum here (https://chat.openai.com/share/32bb2ff0-0bc4-4b0f-be6a-a9a4f6fcc4ac). It will then be immediately clear what values are possible for implementation.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330422091",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Add a short comment explaining what param_grid is.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330422505",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Check validity of type hints by running mypi (https://chat.openai.com/share/717271d9-e47f-483b-a5fb-1d10461d5b67). This one should be Optional[dict], for example, I suppose.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330423747",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Candidate for an enum.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330423971",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Candidate for another small dataclass. (So it would become split_ratios: SplitRatios here.)",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330424489",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Needs a comment imo. What is a feature threshold?",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330424886",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "RunConfig?",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330425005",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "We usually resume a training by default, if there is already a run at the path that the logging points to. Your call.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330425370",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Btw.: If you have such a parameter it can be useful to keep it as a dict (as you have it right now) and not turn it into a dataclass because it's subject to change.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330425846",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "You definitely don't want to copy these configs between files, if they are so similar (or identical?). Extract into a shared .py file.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330427045",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "The two classes Trn and Val are exactly identical except for their name. You can make that one dataclass and extend it twice (class Val(FeaturesAndTargets) - name is just a suggestion).",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330428964",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "*three",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330429206",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Look up naming conventions in Python. For classes it's camel case.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330429545",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Important is what the wrapper does / what it is useful for / what it adds.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330429847",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Add a return type type hint.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330430816",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "I'd remove the docstring here, because the function itself can be read faster than the docstring.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330431714",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "This would also become an enum, if you think it's helpful.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330433814",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "else:\nraise ValueError()\n(you can lookup \"when to raise a ValueError\")",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330434235",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Can you add an assertion to check that? The assertion written as a comment feels dangerous.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330434869",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Add return type hint. (In some other places too.)",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330435213",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Having a function return either just an array or a tuple is a bit smelly. I'd always return both and have the caller discard the latter, if it's not needed.\nThe caller then has for example:\narr, _ = df_to_array(...)",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330437473",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "You could pass them as a dict here so you don't have this implicit assumption of both arguments to have the same length.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330438764",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Look into zip. Here you could nicely do\nfor name, item in zip(names, items)",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330439214",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "(this is obsolete, if you decide to turn the two arguments into a single dictionary)",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330439545",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Risky, see https://stackoverflow.com/questions/7545015/can-someone-explain-this-0-2-0-1-0-30000000000000004",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330440051",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "I usually specify just train and val and infer test.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330441569",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Having these different return tuple sizes is weird. I'd return a dict or dataclass instance.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330442597",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Nice workaround for the problem we had the last time. It's still not 100% clean, but I like it better and don't have a good idea for improving it right now.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330443999",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Same issue as above. Can you just always split into all three and a user can ignore the val_loader, if they don't want one (and set its ratio to 0.0)?",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330445242",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "For mypi there may be an option to add dev dependencies.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330445529",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Nit: return here directly.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330657844",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Remove unnecessary comment.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330657980",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Prefer \"f-strings\" over .format.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330658934",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "I'd refactor this to have this function receive the output (dict) of the previous one and store it as a JSON (json.dumps) in the file instead of writing the lines manually. Then you can load this later in a script to aggregate results for a LaTeX table or so instead of manually copying things around.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330659962",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Naming casing conventions",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330660177",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Nit: when having a parameter with a constant as here 1, it's always good to add the name explicitly.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330661235",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "No need for a utility function, just call os.makedirs(dir_path, exist_ok) in all places where you call ensure_directory_exists. It's shorter, you can delete this function, and it's readable, because people know Python's os module.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330663345",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "*to make the execution deterministic. The intent is not to set a seed.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330664263",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "A function called 'get' shouldn't create something. Get is expected to not change any state.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330664748",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "I personally don't find this pretty, but it's subjective. I don't use the Path lib in private projects.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330665216",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Exceptions shouldn't be part of the normal, expected control flow of the program. In other words: use exceptions only for exceptions.\nDo this here by changing if : ...",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330665953",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Nit: [y/N] to indicate what the default is.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330666266",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Remove commented out code. (Or is it supposed to be here?)",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330666590",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Same comments as for the fn above.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330666953",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Nice!",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330667467",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Use an if with raise ValueError instead of assert.\n\nThe purpose of assertions are frequently misunderstood. They are not for early test conditions as has been suggested, and they are not syntactic sugar for test expressions. Their purpose is to \"assert\" that certain conditions are true at certain points in the program, with the intent of helping programmers understand the state of the system at those points. For example, if at the top of a function I see an \"assert arg\" statement, then I will know without a doubt that (arg is None) is an invalid state for any subsequent statements in that function, reducing the state set I have to consider.\n\nhttps://stackoverflow.com/questions/5142418/what-is-the-use-of-assert-in-python",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330669281",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "In other words: assert must always be true. It must be safe to disable them.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330669536",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Import statements should be at the top of the file.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330671655",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "These if conditions with large body make the code hard to read. Prefer calling a function directly after:\nif model_eval:\n  run_eval()\n\ninstead of having one large function.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330672146",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "(Same thing applies right above in the if else. It's hard to read right now.)",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330672609",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "For some of these variables, I'd just move the config.model.learning_rate down to the invocation of train_pytorch_model. No need for a variable, if it's used only once later on.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1330673509",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "You can make this an numpy array by calling np.array(all_predictions).",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331539483",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Right now you're returning a List[np.ndarray]. I'm suggesting below to turn it into one np.ndarray.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331539869",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Swap if and else clause content here and remove the negation. Generally, it's preferable to have no negation in the if.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331557297",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "I think there's a \"choice\" or \"enum\" option or sth like that.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331558467",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Readers might wonder what happens if the model is only being loaded.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331558814",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Import to the top.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331559073",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Move the todo so the if isn't broken into three lines so strangely.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331559449",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Also, commonly people write # TODO: ...",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331559745",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Are these comments still up to date?",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331560526",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Maybe they have to move up a bit.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331560684",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Consider:\nlogger.info(f\"Dataset shapes: {train_set.X.shape=}, {val_set.X.shape=}, ...\")",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331561726",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Choose the exception that's the most specific to what happens, here it is: https://www.pylenin.com/blogs/file-not-found-error/#:~:text=The%20FileNotFoundError%20Exception%20in%20Python,directory%20that%20doesn't%20exist.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331563611",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Do you need to call this everywhere, given you call it in the start script already?",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331564003",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "I'd add an elif train_mode == 'resume' branch and in the code block place raise NotImplementedError()",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331564814",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Pull out into a config (the 1000).",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331565025",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Construct the path first and assign it to a variable for better readability.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331565413",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "When do you use test and when validation set here?",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331566156",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Negate if condition",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331567474",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "It's very uncommon to repeat the default values here. Good to have one single source of truth.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331568893",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Nice!\nOften useful to add the value that was provided to the exception message.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331569721",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Wasn't there a utility function in eval.py which you could use here?",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331570632",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Split into two lines, the line break here makes this hard to read.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331570951",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Useful to check this early on, so one doesn't run a training to the notice that the model doesn't get saved.",
                                                        "author": {
                                                            "login": "Simsso"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1331571644",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Just made it non-optional",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1334976860",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Will review and add later :D thanks",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1334979252",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "done! (for encoding)",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1334997263",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "okay! Ill have to look into this more - let me know if it comes up again",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1335002979",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'll fix it with an assert statement - let me know if that's not good.",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1335004747",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "jk just made the function a bit simpler so i can use it more flexibly",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1335006363",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "fixed it another way :)",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1335006442",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'll consider this more.",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1335055294",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "renamed",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1335056279",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": ":D",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1335056318",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'll implement this in the next PR",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1335212629",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "will address in part and keep in mind for future pull requests",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1335221630",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "386349c",
                                                            "authoredDate": "2023-09-19T10:04:34Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "probably just nicer to use torch's built in in this case",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1335221792",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "mostly test",
                                                        "author": {
                                                            "login": "erobitschek"
                                                        },
                                                        "url": "https://github.com/erobitschek/med-ml/pull/2#discussion_r1335222866",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "9f9c1f9",
                                                            "authoredDate": "2023-09-19T22:54:30Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 1284,
                        "title": "\u2728 New Feature - JSON-LD on Events + ISR + Misc SEO",
                        "repository": {
                            "nameWithOwner": "SSWConsulting/SSW.Website",
                            "primaryLanguage": {
                                "name": "HTML"
                            }
                        },
                        "createdAt": "2023-08-22T02:44:30Z",
                        "mergedAt": "2023-08-24T06:51:20Z",
                        "url": "https://github.com/SSWConsulting/SSW.Website/pull/1284",
                        "state": "MERGED",
                        "author": {
                            "login": "Harry-Ross"
                        },
                        "editor": {
                            "login": "Harry-Ross"
                        },
                        "body": "* Changed /events to use ISR to fetch events data (instead of client-side fetching)\r\n* Implemented JSON-LD for each item on the events page \r\n* Created \"/hooks\" directory to place custom hooks \r\n* Added h1 element \"SSW Events\" to /events\r\n* Added correct canonical value to events index\r\n\r\n- Affected routes: \r\n  * `/events`\r\n\r\n- Fixed #1268\r\n\r\n- [ ] Include done video or screenshots\r\n\r\n\r\n",
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "CHANGES_REQUESTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "https://chat.openai.com/share/e16d6c97-ae31-4bf4-b68a-79faeafae263\nAs per our convo, you are making a few changes suggested by GPT-4",
                                                        "author": {
                                                            "login": "bradystroud"
                                                        },
                                                        "url": "https://github.com/SSWConsulting/SSW.Website/pull/1284#discussion_r1303683136",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1f855a5",
                                                            "authoredDate": "2023-08-23T06:29:23Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "lgtm",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 15485,
                        "title": "Add a machine distinct id to analytics",
                        "repository": {
                            "nameWithOwner": "netdata/netdata",
                            "primaryLanguage": {
                                "name": "C"
                            }
                        },
                        "createdAt": "2023-07-21T12:31:47Z",
                        "mergedAt": "2023-07-24T18:00:27Z",
                        "url": "https://github.com/netdata/netdata/pull/15485",
                        "state": "MERGED",
                        "author": {
                            "login": "MrZammler"
                        },
                        "editor": null,
                        "body": "##### Summary\r\n<!--\r\nDescribe the change in summary section, including rationale and design decisions.\r\nInclude \"Fixes #nnn\" if you are fixing an existing issue.\r\n-->\r\n\r\nThis PR adds a hashed id of the machine-id to agent analytics. It also makes the same changes to kickstart so that events from kickstart and the agent should produce the same id.\r\n\r\n##### Test Plan\r\n\r\n<!--\r\nProvide enough detail so that your reviewer can understand which test cases you\r\nhave covered, and recreate them if necessary. If our CI covers sufficient tests, then state which tests cover the change.\r\n-->\r\n\r\n##### Additional Information\r\n<!-- This is usually used to help others understand your\r\nmotivation behind this change. A step-by-step reproduction of the problem is\r\nhelpful if there is no related issue. -->\r\n\r\n<details> <summary>For users: How does this change affect me?</summary>\r\n  <!--\r\nDescribe the PR affects users: \r\n- Which area of Netdata is affected by the change?\r\n- Can they see the change or is it an under the hood? If they can see it, where?\r\n- How is the user impacted by the change? \r\n- What are there any benefits of the change? \r\n-->\r\n</details>\r\n",
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "will this handle or what will happen if md5sum does not exist?",
                                                        "author": {
                                                            "login": "andrewm4894"
                                                        },
                                                        "url": "https://github.com/netdata/netdata/pull/15485#discussion_r1270651349",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "055fc6f",
                                                            "authoredDate": "2023-07-21T12:28:56Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "think its answered here :) https://chat.openai.com/share/1489a07a-5d1d-47f0-b35c-c7ba4138f2ff",
                                                        "author": {
                                                            "login": "andrewm4894"
                                                        },
                                                        "url": "https://github.com/netdata/netdata/pull/15485#discussion_r1270654608",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "055fc6f",
                                                            "authoredDate": "2023-07-21T12:28:56Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "@MrZammler should we md5 this too?",
                                                        "author": {
                                                            "login": "andrewm4894"
                                                        },
                                                        "url": "https://github.com/netdata/netdata/pull/15485#discussion_r1270657576",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "055fc6f",
                                                            "authoredDate": "2023-07-21T12:28:56Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I wouldn't expect many systems not have the md5sum installed, so we should be safe. If not found, a uuid will be created instead. We'll take @Ferroin opinion too :-)",
                                                        "author": {
                                                            "login": "MrZammler"
                                                        },
                                                        "url": "https://github.com/netdata/netdata/pull/15485#discussion_r1270695870",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "055fc6f",
                                                            "authoredDate": "2023-07-21T12:28:56Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        },
                        {
                            "property": "body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 2323,
                        "title": "[small] tidy up warnings",
                        "repository": {
                            "nameWithOwner": "lcompilers/lpython",
                            "primaryLanguage": {
                                "name": "C++"
                            }
                        },
                        "createdAt": "2023-09-13T05:58:32Z",
                        "mergedAt": "2023-09-15T19:56:17Z",
                        "url": "https://github.com/lcompilers/lpython/pull/2323",
                        "state": "MERGED",
                        "author": {
                            "login": "khushi-411"
                        },
                        "editor": {
                            "login": "khushi-411"
                        },
                        "body": "Hi, the PR removes warnings during build time and tests. Please see:\r\n```cpp\r\n/home/khushi/Documents/lpython/src/libasr/runtime/lfortran_intrinsics.c: In function \u2018_lfortran_read_int64\u2019:\r\n/home/khushi/Documents/lpython/src/libasr/runtime/lfortran_intrinsics.c: In function \u2018_lfortran_read_int64\u2019:\r\n/home/khushi/Documents/lpython/src/libasr/runtime/lfortran_intrinsics.c:1994:19: warning: format \u2018%lld\u2019 expects argument of type \u2018long long int *\u2019, but argument 2 has type \u2018int64_t *\u2019 {aka \u2018long int *\u2019} [-Wformat=]\r\n 1994 |         scanf(\"%lld\", p);\r\n      |                ~~~^   ~\r\n      |                   |   |\r\n      |                   |   int64_t * {aka long int *}\r\n      |                   long long int *\r\n      |                %ld\r\n/home/khushi/Documents/lpython/src/libasr/runtime/lfortran_intrinsics.c:1994:19: warning: format \u2018%lld\u2019 expects argument of type \u2018long long int *\u2019, but argument 2 has type \u2018int64_t *\u2019 {aka \u2018long int *\u2019} [-Wformat=]\r\n 1994 |         scanf(\"%lld\", p);\r\n      |                ~~~^   ~\r\n      |                   |   |\r\n      |                   |   int64_t * {aka long int *}\r\n      |                   long long int *\r\n      |                %ld\r\n/home/khushi/Documents/lpython/src/libasr/runtime/lfortran_intrinsics.c:2008:27: warning: format \u2018%lld\u2019 expects argument of type \u2018long long int *\u2019, but argument 3 has type \u2018int64_t *\u2019 {aka \u2018long int *\u2019} [-Wformat=]\r\n 2008 |         fscanf(filep, \"%lld\", p);\r\n      |                        ~~~^   ~\r\n      |                           |   |\r\n      |                           |   int64_t * {aka long int *}\r\n      |                           long long int *\r\n      |                        %ld\r\n/home/khushi/Documents/lpython/src/libasr/runtime/lfortran_intrinsics.c:2008:27: warning: format \u2018%lld\u2019 expects argument of type \u2018long long int *\u2019, but argument 3 has type \u2018int64_t *\u2019 {aka \u2018long int *\u2019} [-Wformat=]\r\n 2008 |         fscanf(filep, \"%lld\", p);\r\n      |                        ~~~^   ~\r\n      |                           |   |\r\n      |                           |   int64_t * {aka long int *}\r\n      |                           long long int *\r\n      |                        %ld\r\n```\r\nand\r\n```python\r\nwarning: The symbol 'f' imported from modules_02b will shadow the existing symbol 'f'\r\n --> /home/khushi/Documents/lpython/integration_tests/modules_02.py:1:25\r\n  |\r\n1 | from modules_02b import f, f\r\n  |                         ^ old symbol\r\n  |\r\n1 | from modules_02b import f, f\r\n  |                            ^ new symbol\r\n```\r\ncc @certik @czgdp1807 ",
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "I think this looks good. We should probably use a different ifdef for apple (I am not sure if this define can be off sometimes for apple), but for now this is good.",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        },
                        {
                            "property": "body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 138,
                        "title": "chat\u7528\u306eE2E\u30c6\u30b9\u30c8\u3092\u62e1\u5145\u3001REST API\u3067\u5165\u5ba4\u3057\u305f\u969b\u306bwebsocket\u306eroom\u306b\u3082join\u3059\u308b\u306a\u3069",
                        "repository": {
                            "nameWithOwner": "usatie/pong",
                            "primaryLanguage": {
                                "name": "TypeScript"
                            }
                        },
                        "createdAt": "2023-12-15T08:05:50Z",
                        "mergedAt": "2023-12-15T08:44:56Z",
                        "url": "https://github.com/usatie/pong/pull/138",
                        "state": "MERGED",
                        "author": {
                            "login": "usatie"
                        },
                        "editor": {
                            "login": "coderabbitai"
                        },
                        "body": "\u3053\u3061\u3089\u3060\u3051\u3067\u3082\u5c11\u3057\u5927\u304d\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001EventEmitter\u3092\u5229\u7528\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u5909\u66f4\u306f\u6b21\u306ePR\u3067\u3084\u308b\u65b9\u304c\u3044\u3044\u304b\u306a\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\r\nhttps://docs.nestjs.com/techniques/events\r\n\r\n- Add verifyAccessToken method to AuthService\r\n- Add handleConnection and handleDisconnect to ChatService\r\n- Enhance e2e test for chat gateway\r\n\r\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n## Summary by CodeRabbit\n\n## Summary by CodeRabbit\n\n- **New Features**\n  - Enhanced chat functionality with the ability to verify user access and manage chat rooms.\n  - Implemented new message creation and handling within chat rooms.\n  - Added user authentication for chat services.\n\n- **Improvements**\n  - Chat services now support user connections and disconnections.\n  - Rooms module now integrates with chat features for a seamless user experience.\n\n- **Bug Fixes**\n  - Fixed issues related to user authentication in chat services.\n\n- **Documentation**\n  - Updated instructions for chat usage and room management in end-user guides.\n\n- **Tests**\n  - Added end-to-end tests for chat gateway to ensure reliable messaging and room interactions.\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "Review Status\nActionable comments generated: 11\nConfiguration used: CodeRabbit UI\n\nCommits\nFiles that changed from the base of the PR and between 98be248 and 0b2bd0d.\n\n\nFiles selected for processing (8)\n\nbackend/src/auth/auth.module.ts (1 hunks)\nbackend/src/auth/auth.service.ts (2 hunks)\nbackend/src/chat/chat.gateway.ts (2 hunks)\nbackend/src/chat/chat.module.ts (1 hunks)\nbackend/src/chat/chat.service.ts (1 hunks)\nbackend/src/room/room.controller.ts (2 hunks)\nbackend/src/room/room.module.ts (1 hunks)\nbackend/test/chat-gateway.e2e-spec.ts (4 hunks)\n\n\nAdditional comments: 9\nbackend/src/auth/auth.module.ts (1)\n\n33-33: The change to export AuthService from AuthModule is correct and aligns with the PR objectives to enhance module interdependencies and authentication capabilities.\n\n\nbackend/src/auth/auth.service.ts (2)\n\n\n46-57: The implementation of verifyAccessToken looks correct. It uses jwtService.verify to validate the token and throws a NotFoundException if the user does not exist, which aligns with the PR objectives and the AI-generated summary.\n\n\n16-16: The import of jwtConstants is used correctly in the verifyAccessToken method to provide the publicKey for token verification.\n\n\n\nbackend/src/chat/chat.module.ts (2)\n\n\n14-14: The change to export ChatService aligns with the PR objectives to enhance the chat functionality and is correctly reflected in the module's decorator.\n\n\n13-13: The inclusion of AuthModule in the imports array is consistent with the PR objectives to integrate authentication into the chat functionalities.\n\n\n\nbackend/src/room/room.module.ts (2)\n\n\n5-10: The addition of ChatModule to the RoomModule imports is consistent with the PR objectives to integrate chat functionalities into room-related features.\n\n\n5-10: Verify that the addition of ChatModule does not introduce circular dependencies with RoomModule or other modules.\n\n\n\nVerification successful\nThe previous script contained an error due to the use of an unrecognized flag -Ttypescript with rg. I will correct the script and execute it again to verify the potential circular dependencies.\n\nThe output indicates that RoomModule is used within app.module.ts, but it does not provide direct evidence of a circular dependency between RoomModule and ChatModule. To verify the presence of a circular dependency, I need to check if ChatModule also imports RoomModule. I will create a script to search for instances where RoomModule is imported in the files that import ChatModule.\n\nThe script failed because of an incorrect regex pattern. I will correct the regex to properly search for instances of RoomModule being imported in files that import ChatModule.\n\nThe output indicates that RoomModule is imported in app.module.ts, which is the same file that was identified earlier. However, there is no new evidence of RoomModule being imported in any file that imports ChatModule. This suggests that there is no direct circular dependency between RoomModule and ChatModule based on the information available.\nGiven the results, it appears that the addition of ChatModule to RoomModule does not introduce any circular dependencies, at least not in the direct manner that would be detectable with the provided search.\n\n\nScripts Executed\nThe following scripts were executed for the analysis:\n\nScript:\n#!/bin/bash\n# Check for potential circular dependencies involving RoomModule and ChatModule\nrg -Ttypescript \"ChatModule\" --files-with-matches | xargs rg -Ttypescript \"RoomModule\"\n\nLength of output: 154\n\n\nScript:\n#!/bin/bash\n# Check for potential circular dependencies involving RoomModule and ChatModule\nrg \"ChatModule\" --files-with-matches | xargs rg \"RoomModule\"\n\nLength of output: 234\n\n\nScript:\n#!/bin/bash\n# Search for RoomModule imports within files that import ChatModule\nrg \"ChatModule\" --files-with-matches | xargs rg \"import {.*RoomModule.*}\"\n\nLength of output: 187\n\n\nScript:\n#!/bin/bash\n# Search for RoomModule imports within files that import ChatModule\nrg \"ChatModule\" --files-with-matches | xargs rg \"import.*RoomModule\"\n\nLength of output: 143\n\n\nbackend/test/chat-gateway.e2e-spec.ts (2)\n\n218-234: > Note: This review was outside the patches, so it was mapped to the patch with the greatest overlap. Original lines [176-258]\n\nThe commented-out code blocks for test cases related to [joinRoom], [block], [unblock], and other functionalities should be addressed. If these tests are no longer relevant, consider removing the commented-out code to keep the codebase clean. If they are to be implemented later, add a TODO with a clear description or create an issue in the project's issue tracker to track this work.\n\n155-173: The commented-out test case for getting all messages in a room seems to be an important part of the chat functionality testing. If this test is intended to be implemented later, please add a TODO with a clear description or create an issue in the project's issue tracker. If it's no longer needed, consider removing the commented-out code.",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "The createMessage method is currently a placeholder with commented-out code. Ensure that the implementation is tracked and completed, or remove the placeholder if it's not needed.",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427675765",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b2bd0d",
                                                            "authoredDate": "2023-12-15T08:03:21Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "The deleteRoom and sendToRoom methods contain commented-out TODOs. Confirm that these methods are on the roadmap for implementation and are tracked appropriately.",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427675768",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b2bd0d",
                                                            "authoredDate": "2023-12-15T08:03:21Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "The CreateMessageDto class is defined in the global scope. Consider moving it inside the ChatGateway class or to a separate DTO file if it is intended to be used across different parts of the application.",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427675774",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b2bd0d",
                                                            "authoredDate": "2023-12-15T08:03:21Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "The room check in handleMessage uses client.rooms.has(data.roomId.toString()), but elsewhere in the code, rooms are referred to with a 'room/' prefix. This inconsistency may cause the check to fail.\n- if (!client.rooms.has(data.roomId.toString())) {\n+ if (!client.rooms.has('room/' + data.roomId.toString())) {\n\n\n\n\nCommittable suggestion\n\n\u2757 IMPORTANT\nCarefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation.\n\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n                if (!client.rooms.has(data.roomId.toString())) {\n          \n          \n            \n                if (!client.rooms.has('room/' + data.roomId.toString())) {",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427675777",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b2bd0d",
                                                            "authoredDate": "2023-12-15T08:03:21Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Consider adding validation for the message content in handleMessage before saving it to the database and emitting it to the room to prevent potential issues with invalid data.",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427675779",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b2bd0d",
                                                            "authoredDate": "2023-12-15T08:03:21Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "The handleMessage method is marked as async but does not handle exceptions that may be thrown by the asynchronous operation this.chatService.createMessage(data). Consider wrapping this call in a try-catch block to handle potential errors gracefully.\n    // Save message to the database\n+   try {\n      await this.chatService.createMessage(data);\n+   } catch (error) {\n+     this.logger.error('Failed to save message:', error);\n+     return;\n+   }\n\n\n\n\nCommittable suggestion\n\n\u2757 IMPORTANT\nCarefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation.\n\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n              async handleMessage(\n          \n          \n            \n                @MessageBody() data: CreateMessageDto,\n          \n          \n            \n                @ConnectedSocket() client: Socket,\n          \n          \n            \n              ) {\n          \n          \n            \n                this.logger.log(`message: ${data}`);\n          \n          \n            \n                // Check if a user is in the room\n          \n          \n            \n                if (!client.rooms.has(data.roomId.toString())) {\n          \n          \n            \n                  this.logger.error('socket has not joined this room');\n          \n          \n            \n                  return;\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                // Check if the userId is valid\n          \n          \n            \n                if (this.chatService.getUserId(client) !== data.userId) {\n          \n          \n            \n                  this.logger.error('invalid userId');\n          \n          \n            \n                  return;\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                // Save message to the database\n          \n          \n            \n                await this.chatService.createMessage(data);\n          \n          \n            \n            \n          \n          \n            \n                // Send message to the room\n          \n          \n            \n                const room = this.server.to(data.roomId.toString());\n          \n          \n            \n                room.emit('message', data);\n          \n          \n            \n              async handleMessage(\n          \n          \n            \n                @MessageBody() data: CreateMessageDto,\n          \n          \n            \n                @ConnectedSocket() client: Socket,\n          \n          \n            \n              ) {\n          \n          \n            \n                this.logger.log(`message: ${data}`);\n          \n          \n            \n                // Check if a user is in the room\n          \n          \n            \n                if (!client.rooms.has(data.roomId.toString())) {\n          \n          \n            \n                  this.logger.error('socket has not joined this room');\n          \n          \n            \n                  return;\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                // Check if the userId is valid\n          \n          \n            \n                if (this.chatService.getUserId(client) !== data.userId) {\n          \n          \n            \n                  this.logger.error('invalid userId');\n          \n          \n            \n                  return;\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                // Save message to the database\n          \n          \n            \n                try {\n          \n          \n            \n                  await this.chatService.createMessage(data);\n          \n          \n            \n                } catch (error) {\n          \n          \n            \n                  this.logger.error('Failed to save message:', error);\n          \n          \n            \n                  return;\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                // Send message to the room\n          \n          \n            \n                const room = this.server.to(data.roomId.toString());\n          \n          \n            \n                room.emit('message', data);",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427675783",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b2bd0d",
                                                            "authoredDate": "2023-12-15T08:03:21Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "The TODO comment in the create method should be addressed or removed if the corresponding task is completed.\n\n\nEnsure that this.chatService.addUserToRoom is awaited to prevent race conditions and ensure the user is added to the room before the response is returned.\n- 45:   this.chatService.addUserToRoom(res.id, request['user']);\n+ 45:   await this.chatService.addUserToRoom(res.id, request['user']);\n\n\n\n\nCommittable suggestion\n\n\u2757 IMPORTANT\nCarefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation.\n\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n              async create(@Body() createRoomDto: CreateRoomDto, @Req() request: Request) {\n          \n          \n            \n                const res = await this.roomService.create(createRoomDto, request['user']);\n          \n          \n            \n                // TODO: Add user to room\n          \n          \n            \n                this.chatService.addUserToRoom(res.id, request['user']);\n          \n          \n            \n                return res;\n          \n          \n            \n              async create(@Body() createRoomDto: CreateRoomDto, @Req() request: Request) {\n          \n          \n            \n                const res = await this.roomService.create(createRoomDto, request['user']);\n          \n          \n            \n                // TODO: Add user to room\n          \n          \n            \n                await this.chatService.addUserToRoom(res.id, request['user']);\n          \n          \n            \n                return res;",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427675784",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b2bd0d",
                                                            "authoredDate": "2023-12-15T08:03:21Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "The addUserToRoom call in the createUserOnRoom method should be awaited to ensure that the user is added to the room before the response is returned.\n- 93: this.chatService.addUserToRoom(id, request['user']);\n+ 93: await this.chatService.addUserToRoom(id, request['user']);\n\n\n\n\nCommittable suggestion\n\n\u2757 IMPORTANT\nCarefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation.\n\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n                const res = await this.roomService.createUserOnRoom(id, request['user']);\n          \n          \n            \n                this.chatService.addUserToRoom(id, request['user']);\n          \n          \n            \n                return res;\n          \n          \n            \n                const res = await this.roomService.createUserOnRoom(id, request['user']);\n          \n          \n            \n                await this.chatService.addUserToRoom(id, request['user']);\n          \n          \n            \n                return res;",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427675785",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b2bd0d",
                                                            "authoredDate": "2023-12-15T08:03:21Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Consider using a DTO or a decorator to extract the user information from the request in a type-safe manner.",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427675787",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b2bd0d",
                                                            "authoredDate": "2023-12-15T08:03:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "Review Status\nActionable comments generated: 2\nConfiguration used: CodeRabbit UI\n\nCommits\nFiles that changed from the base of the PR and between 0b2bd0d and f1b8bc5.\n\n\nFiles selected for processing (2)\n\nbackend/src/chat/chat.module.ts (1 hunks)\nbackend/src/chat/chat.service.ts (1 hunks)\n\n\n\nFiles skipped from review as they are similar to previous changes (1)\n\nbackend/src/chat/chat.module.ts\n\n\nAdditional comments: 4\nbackend/src/chat/chat.service.ts (4)\n\n\n16-18: The AuthService is now being injected into the ChatService. Ensure that the AuthService is properly provided in the module where ChatService is declared.\n\n\n21-23: The clients and users maps are used to manage WebSocket connections and user information. Verify that the usage of these maps is thread-safe and that there are no data races, especially if the service can be accessed concurrently.\n\n\n88-108: The handleConnection method correctly extracts the token and uses the AuthService to validate it. Ensure that the error handling is robust and that any exceptions thrown are handled gracefully by the WebSocket gateway.\n\n\n111-113: The handleDisconnect method removes the client from the clients and users maps. Confirm that this cleanup is sufficient and that there are no additional resources that need to be released upon disconnection.",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "There are several TODO comments in the code related to creating messages and deleting rooms. Determine if these are placeholders for future implementation or if they need to be addressed before merging this pull request.",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427686120",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "f1b8bc5",
                                                            "authoredDate": "2023-12-15T08:21:18Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "Review Status\nActionable comments generated: 6\nConfiguration used: CodeRabbit UI\n\nCommits\nFiles that changed from the base of the PR and between f1b8bc5 and fa95e86.\n\n\nFiles selected for processing (6)\n\nbackend/src/chat/chat.controller.spec.ts (1 hunks)\nbackend/src/chat/chat.gateway.ts (2 hunks)\nbackend/src/chat/chat.service.spec.ts (1 hunks)\nbackend/src/chat/chat.service.ts (1 hunks)\nbackend/src/chat/dto/craete-message.dto.ts (1 hunks)\nbackend/src/room/room.controller.ts (2 hunks)\n\n\n\nFiles skipped from review due to trivial changes (1)\n\nbackend/src/chat/chat.gateway.ts\n\n\nAdditional comments: 6\nbackend/src/chat/chat.controller.spec.ts (2)\n\n\n5-6: The addition of AuthService and JwtService to the providers array is consistent with the PR objectives to enhance authentication within the chat module.\n\n\n11-17: The testing module setup using beforeEach and the retrieval of ChatController from the module are correctly implemented.\n\n\n\nbackend/src/chat/chat.service.spec.ts (3)\n\n\n4-5: The imports for AuthService and JwtService are correctly added to support the new authentication functionalities within the ChatService.\n\n\n12-12: The inclusion of AuthService and JwtService in the providers array is appropriate for setting up the testing environment with the necessary dependencies.\n\n\n1-15: While the setup for the ChatService tests has been updated to include the new dependencies, ensure that new tests have been added to cover the enhanced functionalities as mentioned in the PR objectives.\n\n\n\nVerification successful\n\nThe shell script output confirms the presence of multiple E2E test cases in the chat-gateway.e2e-spec.ts file. These tests cover various chat functionalities such as connecting to the chat server, creating and entering rooms, sending and receiving messages, and joining rooms, which align with the PR objectives to enhance E2E testing for the chat gateway.\nBased on this information, it appears that the PR's objectives regarding the expansion of E2E tests have been met.\n\n\nScripts Executed\nThe following scripts were executed for the analysis:\n\nScript:\n#!/bin/bash\n# Search for new test cases related to AuthService and JwtService in the chat.service.spec.ts file.\nrg 'it\\(.*AuthService.*|.*JwtService.*' backend/src/chat/chat.service.spec.ts\n\nLength of output: 193\n\n\nScript:\n#!/bin/bash\n# Search for all test cases in the chat.service.spec.ts file to see if new tests have been added.\nrg 'it\\(' backend/src/chat/chat.service.spec.ts\n\nLength of output: 83\n\n\nScript:\n#!/bin/bash\n# Search for test cases in the chat-gateway.e2e-spec.ts file to verify the presence of new E2E tests.\nrg 'it\\(' backend/src/chat/chat-gateway.e2e-spec.ts\n\nLength of output: 135\n\n\nScript:\n#!/bin/bash\n# Search for the chat-gateway.e2e-spec.ts file in the repository to find its correct path.\nfd 'chat-gateway.e2e-spec.ts'\n\nLength of output: 67\n\n\nScript:\n#!/bin/bash\n# Search for test cases in the chat-gateway.e2e-spec.ts file to verify the presence of new E2E tests.\nrg 'it\\(' backend/test/chat-gateway.e2e-spec.ts\n\nLength of output: 1305\n\n\nbackend/src/room/room.controller.ts (1)\n\n34-37: The addition of ChatService to the RoomController constructor is consistent with the PR objectives to enhance chat functionality integration.",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Consider adding validation to ensure roomId and userId are positive integers, as negative values or zero are typically not valid identifiers.\n  @IsNumber()\n+ @Min(1)\n  @ApiProperty()\n  roomId: number;\n\n  @IsNumber()\n+ @Min(1)\n  @ApiProperty()\n  userId: number;\n\n\n\n\nCommittable suggestion\n\n\u2757 IMPORTANT\nCarefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation.\n\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n              @IsNumber()\n          \n          \n            \n              @ApiProperty()\n          \n          \n            \n              roomId: number;\n          \n          \n            \n            \n          \n          \n            \n              @IsNumber()\n          \n          \n            \n              @ApiProperty()\n          \n          \n            \n              userId: number;\n          \n          \n            \n              @IsNumber()\n          \n          \n            \n              @Min(1)\n          \n          \n            \n              @ApiProperty()\n          \n          \n            \n              roomId: number;\n          \n          \n            \n            \n          \n          \n            \n              @IsNumber()\n          \n          \n            \n              @Min(1)\n          \n          \n            \n              @ApiProperty()\n          \n          \n            \n              userId: number;",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427708084",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "fa95e86",
                                                            "authoredDate": "2023-12-15T08:41:04Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "The create method correctly implements asynchronous behavior to handle room creation and user addition to the chat room. However, the call to this.chatService.addUserToRoom should be awaited to ensure the user is added before the response is returned.\n- 44: this.chatService.addUserToRoom(res.id, req.user);\n+ 44: await this.chatService.addUserToRoom(res.id, req.user);\n\n\n\n\nCommittable suggestion\n\n\u2757 IMPORTANT\nCarefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation.\n\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n              async create(@Body() createRoomDto: CreateRoomDto, @Req() req: { user }) {\n          \n          \n            \n                const res = await this.roomService.create(createRoomDto, req.user);\n          \n          \n            \n                this.chatService.addUserToRoom(res.id, req.user);\n          \n          \n            \n                return res;\n          \n          \n            \n              async create(@Body() createRoomDto: CreateRoomDto, @Req() req: { user }) {\n          \n          \n            \n                const res = await this.roomService.create(createRoomDto, req.user);\n          \n          \n            \n                await this.chatService.addUserToRoom(res.id, req.user);\n          \n          \n            \n                return res;",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427708087",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "fa95e86",
                                                            "authoredDate": "2023-12-15T08:41:04Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "The import for CreateMessageDto has a typo in the filename (craete-message.dto instead of create-message.dto).\n- import { CreateMessageDto } from './dto/craete-message.dto';\n+ import { CreateMessageDto } from './dto/create-message.dto';\n\n\n\n\nCommittable suggestion\n\n\u2757 IMPORTANT\nCarefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation.\n\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            import {\n          \n          \n            \n              Injectable,\n          \n          \n            \n              ConflictException,\n          \n          \n            \n              UnauthorizedException,\n          \n          \n            \n            } from '@nestjs/common';\n          \n          \n            \n            import { CreateDirectMessageDto } from './dto/create-direct-message.dto';\n          \n          \n            \n            import { PrismaService } from 'src/prisma/prisma.service';\n          \n          \n            \n            import { User } from '@prisma/client';\n          \n          \n            \n            import { Socket } from 'socket.io';\n          \n          \n            \n            import { WebSocketGateway } from '@nestjs/websockets';\n          \n          \n            \n            import { AuthService } from 'src/auth/auth.service';\n          \n          \n            \n            import {\n          \n          \n            \n              Injectable,\n          \n          \n            \n              ConflictException,\n          \n          \n            \n              UnauthorizedException,\n          \n          \n            \n            } from '@nestjs/common';\n          \n          \n            \n            import { CreateDirectMessageDto } from './dto/create-direct-message.dto';\n          \n          \n            \n            import { PrismaService } from 'src/prisma/prisma.service';\n          \n          \n            \n            import { User } from '@prisma/client';\n          \n          \n            \n            import { Socket } from 'socket.io';\n          \n          \n            \n            import { WebSocketGateway } from '@nestjs/websockets';\n          \n          \n            \n            import { AuthService } from 'src/auth/auth.service';",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427708094",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "fa95e86",
                                                            "authoredDate": "2023-12-15T08:41:04Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Ensure proper error handling in handleConnection. Catching the error and logging it without rethrowing or handling it might cause silent failures.",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427708096",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "fa95e86",
                                                            "authoredDate": "2023-12-15T08:41:04Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "The createMessage and deleteRoom methods are placeholders and need to be implemented.",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427708098",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "fa95e86",
                                                            "authoredDate": "2023-12-15T08:41:04Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "The comment about receiverId validation from a previous review has not been addressed. This needs to be resolved to ensure message sending is authorized.",
                                                        "author": {
                                                            "login": "coderabbitai"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1427708101",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "fa95e86",
                                                            "authoredDate": "2023-12-15T08:41:04Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "authentication\u306fcontroller/gateway\u3067\u3084\u308b\u306e\u304c\u901a\u4f8b\u304b\u3068\u601d\u3063\u305f\u308a\nhttps://chat.openai.com/share/3918b060-510b-4b3e-a94a-7cfaf1e2f996",
                                                        "author": {
                                                            "login": "takumihara"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1429054015",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "fa95e86",
                                                            "authoredDate": "2023-12-15T08:41:04Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "\u3053\u308c\u3063\u3066\u52d5\u304d\u307e\u3059\uff1f",
                                                        "author": {
                                                            "login": "takumihara"
                                                        },
                                                        "url": "https://github.com/usatie/pong/pull/138#discussion_r1429055734",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "fa95e86",
                                                            "authoredDate": "2023-12-15T08:41:04Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        },
                        {
                            "property": "body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 344,
                        "title": "Added support for Swarm Mode",
                        "repository": {
                            "nameWithOwner": "premAI-io/prem-app",
                            "primaryLanguage": {
                                "name": "TypeScript"
                            }
                        },
                        "createdAt": "2023-09-01T13:28:23Z",
                        "mergedAt": null,
                        "url": "https://github.com/premAI-io/prem-app/pull/344",
                        "state": "CLOSED",
                        "author": {
                            "login": "filopedraz"
                        },
                        "editor": null,
                        "body": "### Description\r\n\r\nAdded support for Swarm Mode which starts the necessary processes in order to be part of the Petals Swarm. The User can `Enable` the mode from Settings. Tauri will spawn a thread that installs the dependencies and runs the python process.\r\n\r\nThe PR contains all the building blocks in order to implement the complete POC functionality.\r\n\r\n### Limitations\r\n\r\n- UI/UX must be drastically improved. No CSS changes have been made.\r\n- It currently works only if the User has Python installed on its machine.\r\n\r\n@tiero @casperdcl @sekulicd @Janaka-Steph please have a look.",
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "can't we allow anything on $PATH instead? (Same for all /usr/bin hardcoded below)",
                                                        "author": {
                                                            "login": "casperdcl"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1313365589",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "8e17313",
                                                            "authoredDate": "2023-09-01T13:23:55Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Potentially fallback to pip install --user before giving up?",
                                                        "author": {
                                                            "login": "casperdcl"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1313770505",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "8e17313",
                                                            "authoredDate": "2023-09-01T13:23:55Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Won't this potentially pick up unrelated multiprocessing tasks?",
                                                        "author": {
                                                            "login": "casperdcl"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1313771023",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "8e17313",
                                                            "authoredDate": "2023-09-01T13:23:55Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "kill -n 15 or kill -n 9?",
                                                        "author": {
                                                            "login": "casperdcl"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1313771123",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "8e17313",
                                                            "authoredDate": "2023-09-01T13:23:55Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "LGTM",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "It will not work with Tauri. We had that issue in the past.",
                                                        "author": {
                                                            "login": "filopedraz"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1315035871",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "8e17313",
                                                            "authoredDate": "2023-09-01T13:23:55Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Ideally, we should install python, conda, create a conda env, and then install, but I want your opinion on that on how to make this installation super smooth.",
                                                        "author": {
                                                            "login": "filopedraz"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1315738039",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "8e17313",
                                                            "authoredDate": "2023-09-01T13:23:55Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Yep, there is that risk, but I don't know how to get that otherwise. Not critical for a POC / Demo.\n85485 ttys038    0:00.03 /Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/Resources/Python.app/Contents/MacOS/Python -c from multiprocessing.resource_tracker import main;main(12)",
                                                        "author": {
                                                            "login": "filopedraz"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1315742094",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "8e17313",
                                                            "authoredDate": "2023-09-01T13:23:55Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I checked this and by default kill uses -n 15 which seems to work nicely in this context. While trying with kill -n 9 processes are not properly killed.",
                                                        "author": {
                                                            "login": "filopedraz"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1315747535",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "8e17313",
                                                            "authoredDate": "2023-09-01T13:23:55Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'd suggest:\n\ntry to find mamba on $PATH\ntry to find conda on $PATH\ntry to find python3 on $PATH\ninstall https://github.com/conda-forge/miniforge#mambaforge\n\nfor (1), (2) and (4): create/activate an env called prem before installing\nWhat' the Tauri problem with $PATH?",
                                                        "author": {
                                                            "login": "casperdcl"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1318823545",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "8e17313",
                                                            "authoredDate": "2023-09-01T13:23:55Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "lgtm  but maybe open follow-up issues for:\n\n--public_name=$(whoami)\nfinding Python",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "lgtm; though I don't haz a mac to check it properly",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This will not work on all architectures, please build one for each architecture\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            pyinstaller --onefile $PYTHON_SCRIPT_PATH --distpath $DIST_PATH --clean -n petals-x86_64-apple-darwin\n          \n          \n            \n            pyinstaller --onefile $PYTHON_SCRIPT_PATH --distpath $DIST_PATH --clean -n petals-x86_64-apple-darwin\n          \n          \n            \n            pyinstaller --onefile $PYTHON_SCRIPT_PATH --distpath $DIST_PATH --clean -n petals-aarch64-apple-darwin",
                                                        "author": {
                                                            "login": "tiero"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1360942079",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b3f945",
                                                            "authoredDate": "2023-10-13T16:29:14Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I think this will not be enough. If is not possible to make an universal binary with single name, we must package both in the App",
                                                        "author": {
                                                            "login": "tiero"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1360944447",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b3f945",
                                                            "authoredDate": "2023-10-13T16:29:14Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "why not moving it inside ./scripts folder ?",
                                                        "author": {
                                                            "login": "tiero"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1360946679",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b3f945",
                                                            "authoredDate": "2023-10-13T16:29:14Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "dont trust, verify (its the AI) https://chat.openai.com/share/2a996ae8-abe3-4b50-a13a-3a6c8c41afbd",
                                                        "author": {
                                                            "login": "tiero"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1360950952",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b3f945",
                                                            "authoredDate": "2023-10-13T16:29:14Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "If we manage to make an universal binary, we should them call it petals-universal-apple-darwin otherwsie when you will be up to compile\n       Error failed to bundle project: Failed to copy external binaries: Failed to copy external binaries: path matching bin/python/petals-universal-apple-darwin not found.: path matching bin/python/petals-universal-apple-darwin not found.",
                                                        "author": {
                                                            "login": "tiero"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1360955777",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b3f945",
                                                            "authoredDate": "2023-10-13T16:29:14Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "if not possible to have universal binary, we must also change how we build the desktop app and file naming (splitting Apple SIlicon and Apple Intel) on website, documentations etc..",
                                                        "author": {
                                                            "login": "tiero"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1360960507",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b3f945",
                                                            "authoredDate": "2023-10-13T16:29:14Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "universal bin may or may not be possible1:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            pyinstaller --onefile $PYTHON_SCRIPT_PATH --distpath $DIST_PATH --clean -n petals-x86_64-apple-darwin\n          \n          \n            \n            pyinstaller --onefile $PYTHON_SCRIPT_PATH --distpath $DIST_PATH --clean --target-arch universal2 -n petals-universal-apple-darwin\n          \n      \n    \n    \n  \n\nplus tauri build --target universal-apple-darwin23\nNote, however, that this increases your bundle size significantly4\nFootnotes\n\n\nhttps://pyinstaller.org/en/stable/feature-notes.html#macos-multi-arch-support \u21a9\n\n\nhttps://tauri.app/v1/api/cli/#build \u21a9\n\n\nhttps://github.com/premAI-io/prem-app/blob/a7df7ed5c915dd0fcd79525cb78314a3e7b19faf/.github/workflows/on-tag.yaml#L97 \u21a9\n\n\nhttps://tauri.app/v1/guides/building/macos/#binary-targets \u21a9",
                                                        "author": {
                                                            "login": "casperdcl"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1361151374",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b3f945",
                                                            "authoredDate": "2023-10-13T16:29:14Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Done :)",
                                                        "author": {
                                                            "login": "nsosio"
                                                        },
                                                        "url": "https://github.com/premAI-io/prem-app/pull/344#discussion_r1362341624",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "0b3f945",
                                                            "authoredDate": "2023-10-13T16:29:14Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        },
                        {
                            "property": "body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 241,
                        "title": "build: disable internet access during the build step",
                        "repository": {
                            "nameWithOwner": "autowarefoundation/autoware-github-actions",
                            "primaryLanguage": {
                                "name": "Python"
                            }
                        },
                        "createdAt": "2023-07-23T18:59:26Z",
                        "mergedAt": "2023-09-20T10:01:22Z",
                        "url": "https://github.com/autowarefoundation/autoware-github-actions/pull/241",
                        "state": "MERGED",
                        "author": {
                            "login": "esteve"
                        },
                        "editor": {
                            "login": "esteve"
                        },
                        "body": "## Description\r\n\r\n<!-- Write a brief description of this PR. -->\r\nThis PR disables access to internet so that we make sure that packages do not download any artifacts during the build step.\r\n\r\n## Tests performed\r\n\r\n<!-- Describe how you have tested this PR. -->\r\n<!-- Although the default value is set to \"Not Applicable.\", please update this section if the type is either [feat, fix, perf], or if requested by the reviewers. -->\r\n\r\nNot applicable.\r\n\r\n## Effects on system behavior\r\n\r\n<!-- Describe how this PR affects the system behavior. -->\r\n\r\nNot applicable.\r\n\r\n## Pre-review checklist for the PR author\r\n\r\nThe PR author **must** check the checkboxes below when creating the PR.\r\n\r\n- [x] I've confirmed the [contribution guidelines].\r\n- [x] The PR follows the [pull request guidelines].\r\n\r\n## In-review checklist for the PR reviewers\r\n\r\nThe PR reviewers **must** check the checkboxes below before approval.\r\n\r\n- [x] The PR follows the [pull request guidelines].\r\n\r\n## Post-review checklist for the PR author\r\n\r\nThe PR author **must** check the checkboxes below before merging.\r\n\r\n- [ ] There are no open discussions or they are tracked via tickets.\r\n\r\nAfter all checkboxes are checked, anyone who has write access can merge the PR.\r\n\r\n[contribution guidelines]: https://autowarefoundation.github.io/autoware-documentation/main/contributing/\r\n[pull request guidelines]: https://autowarefoundation.github.io/autoware-documentation/main/contributing/pull-request-guidelines/\r\n",
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "I approve this to prevent additional changes being made which downloads artifacts during build process. Any repo will need to update their action version anyways to have these applied anyways.",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        },
                        {
                            "property": "body"
                        }
                    ]
                }
            ],
            "pageInfo": {
                "endCursor": "Y3Vyc29yOjEzMA==",
                "hasNextPage": true,
                "hasPreviousPage": true,
                "startCursor": "Y3Vyc29yOjEyMQ=="
            },
            "issueCount": 197
        }
    }
}