{
    "data": {
        "search": {
            "edges": [
                {
                    "node": {
                        "number": 3258,
                        "title": "Montana Elderly Residential Property Tax Credit (Renter/Homeowner)",
                        "repository": {
                            "nameWithOwner": "PolicyEngine/policyengine-us",
                            "primaryLanguage": {
                                "name": "Python"
                            }
                        },
                        "createdAt": "2023-11-09T23:12:00Z",
                        "mergedAt": "2024-01-06T13:51:11Z",
                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258",
                        "state": "MERGED",
                        "author": {
                            "login": "Jingj-WANG"
                        },
                        "editor": null,
                        "body": "Fixed: #2579\n\n<!--\ncopilot:all\n-->\n### <samp>\ud83e\udd16 Generated by Copilot at f3cb5b5</samp>\n\n### Summary\n:sparkles::page_facing_up::test_tube:\n\n<!--\n1.  :sparkles: This emoji represents the addition of a new feature or enhancement, which is the main purpose of the pull request. The Montana elderly homeowner/renter credit is a new feature that adds functionality and value to the policy engine.\n2. :page_facing_up: This emoji represents the addition of new documentation or data, which is a significant part of the pull request. The changelog entry, the parameter files, and the test files are all examples of documentation or data that help explain and support the new feature.\n3. :test_tube: This emoji represents the addition of new tests or refactoring of existing tests, which is another important part of the pull request. The test files are examples of tests that ensure the quality and reliability of the new feature and the policy engine.\n-->\nThis pull request adds the Montana elderly homeowner/renter credit to the policy engine. It creates new parameter, variable, and test files for the credit computation and eligibility logic, based on the Montana tax code and forms. It also updates the changelog file to document the new feature and the required version bump.\n\n> _`Montana_credit`_\n> _New feature for the engine_\n> _Autumn of one's life_\n\n### Walkthrough\n*  Add the Montana elderly homeowner/renter credit to the policy engine ([link](https://github.com/PolicyEngine/policyengine-us/pull/3258/files?diff=unified&w=0#diff-5885042762833a4aef51405a4036067e4e6aefa7a5091a2987d1d9d1fc2647e8R1-R4), [link](https://github.com/PolicyEngine/policyengine-us/pull/3258/files?diff=unified&w=0#diff-14e9ce3a91a1d3d6a4ec058c47b82050ae6dd00381c0bd6ec683da4bafdcd62bR1-R37), [link](https://github.com/PolicyEngine/policyengine-us/pull/3258/files?diff=unified&w=0#diff-2c9810939c2135dc8c1bb528d96dd398a64f6166307fa8b114a46b6f01a26806R1-R21), [link](https://github.com/PolicyEngine/policyengine-us/pull/3258/files?diff=unified&w=0#diff-b45eda50fbbf6c9ac1aa9ced8d8ad36aa93a4d0bac5a66b1ca0390a04ef26d78L1-R13))\n\n\n",
                        "comments": {
                            "nodes": [
                                {
                                    "createdAt": "2023-12-06T23:50:38Z",
                                    "bodyText": "Codecov Report\nAll modified and coverable lines are covered by tests \u2705\n\nComparison is base (6b9cd7f) 99.01% compared to head (746d5d8) 99.01%.\n\nAdditional details and impacted files\n@@           Coverage Diff           @@\n##           master    #3258   +/-   ##\n=======================================\n  Coverage   99.01%   99.01%           \n=======================================\n  Files        2111     2116    +5     \n  Lines       30751    30819   +68     \n  Branches      165      165           \n=======================================\n+ Hits        30447    30515   +68     \n  Misses        268      268           \n  Partials       36       36           \n\n\u2614 View full report in Codecov by Sentry.\n\ud83d\udce2 Have feedback on the report? Share it here.",
                                    "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#issuecomment-1843871961",
                                    "author": {
                                        "login": "codecov"
                                    }
                                },
                                {
                                    "createdAt": "2023-12-15T00:40:54Z",
                                    "bodyText": "@MaxGhenis Hi Max, I failed this run test because of the PA test file but I didn't change any pa files. Do you have any idea how to fix this? Thanks",
                                    "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#issuecomment-1857089298",
                                    "author": {
                                        "login": "Jingj-WANG"
                                    }
                                },
                                {
                                    "createdAt": "2023-12-15T05:21:17Z",
                                    "bodyText": "See #3460",
                                    "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#issuecomment-1857295442",
                                    "author": {
                                        "login": "MaxGhenis"
                                    }
                                }
                            ]
                        },
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                age_spuse: 64\n          \n          \n            \n                age_spouse: 64\n          \n          \n            \n                # and others",
                                                        "author": {
                                                            "login": "hua7450"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1409883049",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "769bedc",
                                                            "authoredDate": "2023-11-10T00:17:30Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                - tax_exempt_pension_income\n          \n          \n            \n                - pension_income",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1411455304",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "073d47e",
                                                            "authoredDate": "2023-12-01T00:12:57Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "IRA:\nregular_ira_distributions\nroth_ira_distributions",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1411456450",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "073d47e",
                                                            "authoredDate": "2023-12-01T00:12:57Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                subtracts = [\"tax_exempt_social_security\"]\n          \n          \n            \n                # Tax form specifies total social social security - the taxable social security amounts\n          \n          \n            \n                subtracts = [\"tax_exempt_social_security\"]",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1411460752",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "073d47e",
                                                            "authoredDate": "2023-12-01T00:12:57Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "check whether for all or just head and spouse",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1411462679",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "073d47e",
                                                            "authoredDate": "2023-12-01T00:12:57Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "for all members in the household either related or not\nimage.png",
                                                        "author": {
                                                            "login": "Jingj-WANG"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418036402",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "073d47e",
                                                            "authoredDate": "2023-12-01T00:12:57Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "",
                                                        "author": {
                                                            "login": "Jingj-WANG"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418036624",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "073d47e",
                                                            "authoredDate": "2023-12-01T00:12:57Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "CHANGES_REQUESTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana multiplies the credit by this multiplier for the calculation of the final elderly homeowner or renter credit.\n          \n          \n            \n            description: Montana multiplies the final elderly homeowner or renter credit amount by this multiplier.",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418876861",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "rename to multiplier.yaml",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418877054",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana provides this elderly homeowner or renter credit for filers at or above this age.\n          \n          \n            \n            description: Montana provides the elderly homeowner or renter credit for filers at or above this age.",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418877404",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              label: Montana elderly homeowner or renter credit minimum age threshold\n          \n          \n            \n              label: Montana elderly homeowner or renter credit age threshold",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418877608",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              unit: list\n          \n          \n            \n              unit: list\n          \n          \n            \n              period: year",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418877993",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "need a legal code reference",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418878212",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "rename to cap",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418878689",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana provides this maximum amount for the elderly homeowner or renter credit before credit multiplier.\n          \n          \n            \n            description: Montana caps the pre-multiplier amount of the elderly homeowner or renter credit to this amount.",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418879166",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              label: Montana elderly homeowner or renter credit max amount before credit multiplier\n          \n          \n            \n              label: Montana elderly homeowner or renter credit pre multiplier cap",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418879442",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "rename to phase_out_rate.yaml",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418880033",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              amount_unit: /1\n          \n          \n            \n              amount_unit: /1\n          \n          \n            \n              period: year",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418880238",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana uses this reduction amount for the computation based of the elderly homeowner or renter credit.\n          \n          \n            \n            description: Montana phases the net household income out at this rate under the elderly homeowner or renter credit.",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418880815",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              label: Montana household income reduction amount\n          \n          \n            \n              label: Montana elderly or homeowner credit household income reduction amount",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418881029",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "rename to standard_exclusion_amount.yaml",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418882433",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana allows for this standard exclusion for the computation of the elderly homeowner or renter credit.\n          \n          \n            \n            description: Montana allows for this standard exclusion amount of net household income under the elderly homeowner or renter credit.",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418882680",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              label: Montana elderly homeowner or renter credit standard exclusion\n          \n          \n            \n              label: Montana elderly homeowner or renter credit net household income standard exclusion amount",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418883089",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "right?",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418883354",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "right?",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418883548",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana uses this rate in computation of the rent equivalent tax paid.\n          \n          \n            \n            description: Montana multiplies the rent by this rate for the computation of the rent equivalent tax paid.",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418884376",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "should this be a montana general parameter? (Would we use this rate for other programs)",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418885021",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              unit: list\n          \n          \n            \n              unit: list\n          \n          \n            \n              period: year",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418885224",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "add a comment why we do this",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418886860",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Other way around\nWe take all credits here and then add the renter credit, not subtract it\nadjust the mt_refundable_credits to add this and the renter credit (adds function)",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1418889083",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Net household income = Max_((Gross household income - standard exclusion), 0) * rate. I think it's correct",
                                                        "author": {
                                                            "login": "Jingj-WANG"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1419178874",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "",
                                                        "author": {
                                                            "login": "Jingj-WANG"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1419191449",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "https://law.justia.com/codes/montana/2022/title-15/chapter-30/part-23/section-15-30-2337/",
                                                        "author": {
                                                            "login": "Jingj-WANG"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1419191836",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I think it's only for Montana. I check federal law and there's no definition for that. https://www.irs.gov/businesses/small-businesses-self-employed/tips-on-rental-real-estate-income-deductions-and-recordkeeping",
                                                        "author": {
                                                            "login": "Jingj-WANG"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1419196545",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4a8e023",
                                                            "authoredDate": "2023-12-06T23:41:08Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                label = \"Montana Elderly Homeowner/Renter Credit Eligibility\"\n          \n          \n            \n                label = \"Eligible for the Montana Elderly Homeowner/Renter Credit\"",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1419790375",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "622757d",
                                                            "authoredDate": "2023-12-07T23:00:49Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                - title: Montana 2022 Form2 Individual Income Tax Instructions, Page48, Line 7 # Montana Elderly Homeowner or renter credit\n          \n          \n            \n                - title: Montana 2022 Form2 Individual Income Tax Instructions",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1419793041",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "308bee0",
                                                            "authoredDate": "2023-12-08T00:08:44Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                  href: https://mtrevenue.gov/wp-content/uploads/dlm_uploads/2022/12/Form-2-2022-Instructions.pdf#page=48\n          \n          \n            \n                  href: https://mtrevenue.gov/wp-content/uploads/dlm_uploads/2022/12/Form-2-2022-Instructions.pdf#page=17",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1419793190",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "308bee0",
                                                            "authoredDate": "2023-12-08T00:08:44Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              2009-01-01:\n          \n          \n            \n              2021-01-01:",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1419793299",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "308bee0",
                                                            "authoredDate": "2023-12-08T00:08:44Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "create a new mt_elderly_homeowner_or_renter_credit_net_household_income variable with the computation:",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1419795201",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "308bee0",
                                                            "authoredDate": "2023-12-08T00:08:44Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "logic is great!",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1419795459",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "308bee0",
                                                            "authoredDate": "2023-12-08T00:08:44Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              label: Montana elderly or homeowner credit household income reduction amount\n          \n          \n            \n              label: Montana elderly or homeowner credit household income phase out rate",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1419795767",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "308bee0",
                                                            "authoredDate": "2023-12-08T00:08:44Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "CHANGES_REQUESTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This passed in your test but wouldn't in other tests, due to very weird Python internals that I didn't know of: https://chat.openai.com/share/46ad69dc-4ce7-4572-88e7-d60dc69f6715\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n                    age_eligible = age_head | age_spouse >= p.age_threshold\n          \n          \n            \n                    age_eligible = (age_head >= p.age_threshold) | (age_spouse >= p.age_threshold)\n          \n      \n    \n    \n  \n\nAlternatively, implement #3148",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421599212",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "For extra clarity\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n                    return age_eligible & (gross_household_income < p.income_limit)\n          \n          \n            \n                    income_eligible = gross_household_income < p.income_limit\n          \n          \n            \n                    return age_eligible & income_eligible",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421599479",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "where's this from? subsection 7 says $1,000 on contingency for 2022-25, but the tax forms indicate that those contigency requirements were not met, so it's just $1,150 since 2021. please update and leave a comment about this\nhttps://chat.openai.com/share/3cf6ad03-3174-4f09-9ed7-a3a1afce7a27\nSimilarly fix this with the standard exclusion",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421605401",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "remove credit from the folder since it's in credits/",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421605442",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              label: Montana elderly homeowner or renter credit pre multiplier cap \n          \n          \n            \n              # The legal code is ambiguous about whether the cap applies before or after\n          \n          \n            \n              # the multiplier, but the tax form indicates it applies before.\n          \n          \n            \n              label: Montana elderly homeowner or renter credit pre multiplier cap",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421605577",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana qualifies filers for the elderly homeowner or renter credit with gross household income below this amount.\n          \n          \n            \n            description: Montana limits its elderly homeowner or renter credit to filers with gross household income below this amount.",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421605598",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              label: Montana elderly homeowner or renter credit gross household income limit\n          \n          \n            \n              label: Montana elderly homeowner or renter credit income limit",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421605622",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              label: Monatna elderly homeowner or renter credit gross income sources\n          \n          \n            \n              label: Montana elderly homeowner or renter credit gross income sources",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421605654",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                  2009-01-01: 42_000\n          \n          \n            \n                  2009-01-01: 45_000",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421605822",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "remove _amount",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421606037",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana allows for this standard exclusion amount of net household income under the elderly homeowner or renter credit.\n          \n          \n            \n            description: Montana excludes this amount when computing net household income for the elderly homeowner or renter credit.",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421606067",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              label: Montana elderly homeowner or renter credit net household income standard exclusion amount\n          \n          \n            \n              label: Montana elderly homeowner or renter credit net household income standard exclusion",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421606084",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana multiplies the rent by this rate for the computation of the rent equivalent tax paid.\n          \n          \n            \n            description: Montana counts this fraction of rent as property tax for its elderly homeowner or renter credit.",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421606130",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              label: Montana rent equivalent tax rate\n          \n          \n            \n              label: Montana elderly homeowner or renter credit rent equivalent rate",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421606151",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "reduction_rate",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421606276",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              label: Montana elderly or homeowner credit household income phase out rate\n          \n          \n            \n              label: Montana elderly or homeowner credit household income reduction rate",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421606304",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana phases the net household income out at this rate under the elderly homeowner or renter credit.\n          \n          \n            \n            description: Montana reduces net household income by this fraction under the elderly homeowner or renter credit, depending on income.",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421606383",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                    credit_amount = max_(\n          \n          \n            \n                    countable_rent = rent * p.rent_equivalent_rate\n          \n          \n            \n                    countable_rent_property_tax = property_tax + countable_rent\n          \n          \n            \n                    uncapped_credit = max_(countable_rent_property_tax - net_household_income, 0)\n          \n          \n            \n                    capped_credit = min_(uncapped_credit, p.cap)\n          \n          \n            \n                    multiplier = p.multiplier.calc(gross_household_income)\n          \n          \n            \n                    return capped_credit * multiplier",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421606811",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                    return (\n          \n          \n            \n                    reduction_rate = p.net_household_income.reduction_rate.calc(\n          \n          \n            \n                            reduced_household_income\n          \n          \n            \n                        )\n          \n          \n            \n                    return reduced_household_income * reduction_rate",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421606861",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "space others similarly\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n                - tax_exempt_interest   # Line2: exempt interest\n          \n          \n            \n                - tax_exempt_interest # Line 2: exempt interest",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421608268",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            class mt_gross_household_income(Variable):\n          \n          \n            \n            class mt_elderly_homeowner_or_renter_credit_gross_household_income(Variable):",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421608520",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "delete this through 15. it's correctly added to gross_income_sources as to capture total SS benefits: taxable via AGI, plus tax-exempt",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1421608592",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Here are the legislative changes in the Montana 2022 tax form: (increased elderly homeowner/renter credit)\nhttps://mtrevenue.gov/wp-content/uploads/dlm_uploads/2022/12/Form-2-2022-Instructions.pdf#page=5\n\nHere's what it says in 2021 tax instructions:\nhttps://mtrevenue.gov/wp-content/uploads/mdocs/form%202%202021%20instructions.pdf#page=5",
                                                        "author": {
                                                            "login": "Jingj-WANG"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1425983255",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "@MaxGhenis\nThis credit is in FORM 2EC before year 2018 and was combined in FORM 2 in 2018\n\nI double-checked the tax form and instructions each year:\nhttps://mtrevenue.gov/publications/montana-individual-income-tax-return-form-2/\nhttps://mtrevenue.gov/publications/montana-form-2-individual-income-tax-return-forms-and-instructions-includes-form-2ec/\nHere's a 2EC evaluation file, talking about how cap_value changes:\nhttps://leg.mt.gov/content/Committees/Interim/2019-2020/Revenue/Meetings/July-2020/Tax-Credit-Review/2EC-evaluation.pdf#page=10\n\nIn tax form\n\nin 2022: cap = 1150\nin 2018-2021: cap = 1000\nbefore 2018, it shows in 2EC FORM and cap=1000, LINE11 (2017)\nhttps://www.taxformfinder.org/forms/2019/2019-montana-form-2ec.pdf#page=1\n\nI didn't see the $900 and $950 in any tax forms and doubt what GPT answered",
                                                        "author": {
                                                            "login": "Jingj-WANG"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1426001499",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "thanks should you change line 4 to 2022 then?",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1426023703",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "yes, I am revising that now.",
                                                        "author": {
                                                            "login": "Jingj-WANG"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1426024484",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d906fcd",
                                                            "authoredDate": "2023-12-08T01:19:54Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "rename to standard_exclusion.yaml",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1432035642",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6c73c88",
                                                            "authoredDate": "2023-12-15T18:58:27Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "CHANGES_REQUESTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "And elsewhere\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n                mt_elderly_homeowner_or_renter_credit_net_household_income: 1070\n          \n          \n            \n                mt_elderly_homeowner_or_renter_credit_net_household_income: 1_070",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1428385262",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6c73c88",
                                                            "authoredDate": "2023-12-15T18:58:27Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "delete this - redundant with multiplier",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434376546",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "ef8020a",
                                                            "authoredDate": "2023-12-20T16:28:46Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana provides the elderly homeowner or renter credit for filers at or above this age.\n          \n          \n            \n            description: Montana limits the elderly homeowner or renter credit to filers this age or older.",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434376790",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "ef8020a",
                                                            "authoredDate": "2023-12-20T16:28:46Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "use older_age_head_spouse (might not be the exact variable name) to simplify this, i.e. return older_age_head_spouse >= p.age_threshold",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434509014",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b5f938b",
                                                            "authoredDate": "2023-12-21T20:29:56Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "is this correct? Or do you want me to create a new variable older_age_head_spouse?",
                                                        "author": {
                                                            "login": "Jingj-WANG"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434512956",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b5f938b",
                                                            "authoredDate": "2023-12-21T20:29:56Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "@MaxGhenis",
                                                        "author": {
                                                            "login": "Jingj-WANG"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434513541",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b5f938b",
                                                            "authoredDate": "2023-12-21T20:29:56Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "there's already a variable in the system",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434541752",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b5f938b",
                                                            "authoredDate": "2023-12-21T20:29:56Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "got it.",
                                                        "author": {
                                                            "login": "Jingj-WANG"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434549253",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b5f938b",
                                                            "authoredDate": "2023-12-21T20:29:56Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "CHANGES_REQUESTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                    age_spouse = tax_unit(\"age_spouse\", period)",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434588767",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "bfdbb3c",
                                                            "authoredDate": "2023-12-21T22:06:12Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                    age_head = tax_unit(\"age_head\", period)",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434588792",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "bfdbb3c",
                                                            "authoredDate": "2023-12-21T22:06:12Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                    countable_rent_property_tax = property_tax + countable_rent\n          \n          \n            \n                    countable_rent_and_property_tax = property_tax + countable_rent",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434588889",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "bfdbb3c",
                                                            "authoredDate": "2023-12-21T22:06:12Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                - mt_ctc\n          \n          \n            \n                - mt_ctc\n          \n          \n            \n                - mt_eitc",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434589030",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "bfdbb3c",
                                                            "authoredDate": "2023-12-21T22:06:12Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana excludes this amount when computing net household income for elderly homeowner or renter credit.\n          \n          \n            \n            description: Montana excludes this amount of net household income when computing net household income for elderly homeowner or renter credit.",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434589245",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "bfdbb3c",
                                                            "authoredDate": "2023-12-21T22:06:12Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana reduces net household income by this fraction under the elderly homeowner or renter credit, depending on income.\n          \n          \n            \n            description: Montana reduces net household income by this fraction under the elderly homeowner or renter credit, depending on gross household income reduced by the standard exclusion.",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434589555",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "bfdbb3c",
                                                            "authoredDate": "2023-12-21T22:06:12Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana multiplies the final elderly homeowner or renter credit amount by this multiplier.\n          \n          \n            \n            description: Montana multiplies the elderly homeowner or renter credit computation amount by this multiplier.",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434589666",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "bfdbb3c",
                                                            "authoredDate": "2023-12-21T22:06:12Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            # due to circle reference\n          \n          \n            \n            # due to a potential circular reference",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434589790",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "bfdbb3c",
                                                            "authoredDate": "2023-12-21T22:06:12Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "CHANGES_REQUESTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana gross income sources for the calculation of elderly homeowner or renter credit.\n          \n          \n            \n            description: Montana gross income sources for the calculation of the elderly homeowner or renter credit.",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434599493",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4892fa9",
                                                            "authoredDate": "2023-12-21T23:48:35Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            description: Montana multiplies the elderly homeowner or renter credit computation amount by this multiplier.\n          \n          \n            \n            description: Montana multiplies the capped elderly homeowner or renter credit amount by this multiplier.",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434599821",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4892fa9",
                                                            "authoredDate": "2023-12-21T23:48:35Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                # In the gross income sources, we include the elderly homeowner or renter credit in refundable credits\n          \n          \n            \n                # Under the gross income sources computation, the elderly homeowner or renter credit \n          \n          \n            \n                # is included in the list of refundable credits",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434600526",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4892fa9",
                                                            "authoredDate": "2023-12-21T23:48:35Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                # So we created another variable mt_refundable_credits_before_renter_credit.py\n          \n          \n            \n                # mt_refundable_credits_before_renter_credit was created to circumvent this",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434600646",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4892fa9",
                                                            "authoredDate": "2023-12-21T23:48:35Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                label = \"Montana refundable credits before adding elderly homeowner or renter credit\"\n          \n          \n            \n                label = \"Montana refundable credits before adding the elderly homeowner or renter credit\"",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434600705",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4892fa9",
                                                            "authoredDate": "2023-12-21T23:48:35Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                # In gross income sources, we include the elderly homeowner or renter credit in refundable credits\n          \n          \n            \n                # Under the gross income sources computation, the elderly homeowner or renter credit \n          \n          \n            \n                # is included in the list of refundable credits```",
                                                        "author": {
                                                            "login": "PavelMakarchuk"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1434600811",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "4892fa9",
                                                            "authoredDate": "2023-12-21T23:48:35Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                label = \"Montana Net Household Income\"\n          \n          \n            \n                label = \"Net household income for Montana elderly homeowner or renter credit\"",
                                                        "author": {
                                                            "login": "MaxGhenis"
                                                        },
                                                        "url": "https://github.com/PolicyEngine/policyengine-us/pull/3258#discussion_r1443322935",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "039aa0c",
                                                            "authoredDate": "2023-12-22T00:15:37Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        },
                        {
                            "property": "body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 1091,
                        "title": "add option to enable or disable k3s local-storage controller",
                        "repository": {
                            "nameWithOwner": "kube-hetzner/terraform-hcloud-kube-hetzner",
                            "primaryLanguage": {
                                "name": "HCL"
                            }
                        },
                        "createdAt": "2023-11-09T17:29:58Z",
                        "mergedAt": "2023-11-24T16:22:02Z",
                        "url": "https://github.com/kube-hetzner/terraform-hcloud-kube-hetzner/pull/1091",
                        "state": "MERGED",
                        "author": {
                            "login": "mnbro"
                        },
                        "editor": null,
                        "body": "",
                        "comments": {
                            "nodes": [
                                {
                                    "createdAt": "2023-11-12T10:51:36Z",
                                    "bodyText": "@mnbro  Thank you for this. Please explain the reasoning behind this proposed change. It may seem obvious, but it's not for me, thanks! \ud83d\ude4f",
                                    "url": "https://github.com/kube-hetzner/terraform-hcloud-kube-hetzner/pull/1091#issuecomment-1807089762",
                                    "author": {
                                        "login": "mysticaltech"
                                    }
                                },
                                {
                                    "createdAt": "2023-11-12T14:37:41Z",
                                    "bodyText": "@mnbro Thank you for this. Please explain the reasoning behind this proposed change. It may seem obvious, but it's not for me, thanks! \ud83d\ude4f\n\nSure.\nFor cases when I want to run DB clusters giving each DB node a PVC from longhorn will not be as fast as local-storage (even if I use a storage class for longhorn with 1 replica because it will always pass through longhorn system -> maybe in the future when longhorn will have tcp passthrough(v 1.7 I think ?)). Hope it makes sense...",
                                    "url": "https://github.com/kube-hetzner/terraform-hcloud-kube-hetzner/pull/1091#issuecomment-1807146682",
                                    "author": {
                                        "login": "mnbro"
                                    }
                                },
                                {
                                    "createdAt": "2023-11-13T10:15:03Z",
                                    "bodyText": "@mnbro Thanks for adding context.\nSo when local storage is enabled, you won't need Longhorn to use it, correct?\nBut what will it use? I do not think Hetzner CSI support this. Or is it host path?\nI would like to understand the exact use case, and what will be using that. Also you have to understand that our nodes use a specific partitioning scheme, with limited spaces for some directories and read only for others, so important to know where the data will be stored.\nThe only R-W directory that is not part of a snapshot is var/, important that it uses that. I do not see any config pointing to that in this PR, unless I missed it.",
                                    "url": "https://github.com/kube-hetzner/terraform-hcloud-kube-hetzner/pull/1091#issuecomment-1807862818",
                                    "author": {
                                        "login": "mysticaltech"
                                    }
                                },
                                {
                                    "createdAt": "2023-11-13T15:39:57Z",
                                    "bodyText": "@mysticaltech I would use both, Longhorn and Rancher's Local Path Provisioner(local-storage in k3s world).\nI would use Longhorn for workloads that need RWX support and local-storage( Rancher's Local Path Provisioner) for clusters (formed by different operators).\nBoth Longhorn and  Rancher's Local Path Provisioner use /var so it should be no problem.",
                                    "url": "https://github.com/kube-hetzner/terraform-hcloud-kube-hetzner/pull/1091#issuecomment-1808403333",
                                    "author": {
                                        "login": "mnbro"
                                    }
                                },
                                {
                                    "createdAt": "2023-11-15T08:46:39Z",
                                    "bodyText": "@kube-hetzner/core  FYI my above recommendation. Feedback welcome. Also more on the context explained here: https://chat.openai.com/share/2e9050f1-2a75-4293-86d5-bef232fa4132",
                                    "url": "https://github.com/kube-hetzner/terraform-hcloud-kube-hetzner/pull/1091#issuecomment-1812030174",
                                    "author": {
                                        "login": "mysticaltech"
                                    }
                                },
                                {
                                    "createdAt": "2023-11-15T10:49:46Z",
                                    "bodyText": "@mysticaltech There is no need for adding local-path provisioner because there is already included in k3s . By not including local-storage in --disable  on k3s installation, the local-path provisioner will be installed and \"local storage\" will also become available.",
                                    "url": "https://github.com/kube-hetzner/terraform-hcloud-kube-hetzner/pull/1091#issuecomment-1812245907",
                                    "author": {
                                        "login": "mnbro"
                                    }
                                },
                                {
                                    "createdAt": "2023-11-15T11:31:26Z",
                                    "bodyText": "Ok I see, thanks for the clarification, will merge tonight.",
                                    "url": "https://github.com/kube-hetzner/terraform-hcloud-kube-hetzner/pull/1091#issuecomment-1812353950",
                                    "author": {
                                        "login": "mysticaltech"
                                    }
                                },
                                {
                                    "createdAt": "2023-11-23T15:45:08Z",
                                    "bodyText": "@mnbro Isn't openebs-local-pv with it's variety of types a better option to use?",
                                    "url": "https://github.com/kube-hetzner/terraform-hcloud-kube-hetzner/pull/1091#issuecomment-1824639685",
                                    "author": {
                                        "login": "aleksasiriski"
                                    }
                                },
                                {
                                    "createdAt": "2023-11-23T16:55:46Z",
                                    "bodyText": "@mnbro Isn't openebs-local-pv with it's variety of types a better option to use?\n\nI don't know. I didn't test it. What I was thinking at is that if there is already a built-in solution I should use that.",
                                    "url": "https://github.com/kube-hetzner/terraform-hcloud-kube-hetzner/pull/1091#issuecomment-1824726539",
                                    "author": {
                                        "login": "mnbro"
                                    }
                                },
                                {
                                    "createdAt": "2023-11-24T12:53:57Z",
                                    "bodyText": "openebs-local-pv hostpath seems identical to rancher local-path-provisioner. I'm fine with the option to enable the rancher's implementation.\nopenebs also offer zfs, lvm, rawfile and block local-pvs as well as using any pvc to make it a RWX with nfs server, in case someone needs this info",
                                    "url": "https://github.com/kube-hetzner/terraform-hcloud-kube-hetzner/pull/1091#issuecomment-1825637229",
                                    "author": {
                                        "login": "aleksasiriski"
                                    }
                                },
                                {
                                    "createdAt": "2023-12-01T03:30:52Z",
                                    "bodyText": "@mnbro Thanks for your contribution and patience. This was just released in v2.10.0  \ud83d\ude4f",
                                    "url": "https://github.com/kube-hetzner/terraform-hcloud-kube-hetzner/pull/1091#issuecomment-1835399143",
                                    "author": {
                                        "login": "mysticaltech"
                                    }
                                }
                            ]
                        },
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "CHANGES_REQUESTED",
                                        "bodyText": "@mnbro Thanks for the clarification, so please we would need to add support for the local-path provisioner for that new feature to make sense, as local storage cannot be used without it. Please follow the same method as Longhorn.",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 2153,
                        "title": "fix(memcached): add length check for key values",
                        "repository": {
                            "nameWithOwner": "dragonflydb/dragonfly",
                            "primaryLanguage": {
                                "name": "C++"
                            }
                        },
                        "createdAt": "2023-11-09T10:17:58Z",
                        "mergedAt": "2023-11-20T12:37:30Z",
                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153",
                        "state": "MERGED",
                        "author": {
                            "login": "kostasrim"
                        },
                        "editor": {
                            "login": "kostasrim"
                        },
                        "body": "Addresses #2120\r\n\r\n* fix length checks for store commands\r\n* add test",
                        "comments": {
                            "nodes": []
                        },
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This is a small bug, I should add empty ' ' below and not here",
                                                        "author": {
                                                            "login": "kostasrim"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1387790578",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "2b7084a",
                                                            "authoredDate": "2023-11-08T18:12:50Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Kostas, thank for identifying the issue but I do not understand based on the code what exactly you are trying to check. Some style comments:\n\nI do not think using sets for comparing with 3 ascii characters adds clarity. I think simple problems require simple solutions if (c == '\\r' || ...). You can also consider base::_in(c, {...}).\nlambda captures are confusing on my opinion. why capture? why not passing as an argument?\n\nsee more comments below",
                                                        "author": {
                                                            "login": "romange"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1390346855",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "2b7084a",
                                                            "authoredDate": "2023-11-08T18:12:50Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "what's the illegal state that you are checking here?",
                                                        "author": {
                                                            "login": "romange"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1390347350",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "2b7084a",
                                                            "authoredDate": "2023-11-08T18:12:50Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "what's the illegal state that you are checking here?",
                                                        "author": {
                                                            "login": "romange"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1390347686",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "2b7084a",
                                                            "authoredDate": "2023-11-08T18:12:50Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Basically, the problem is that we receive a string of:\nset mykey 0 0 3\\r\\nkostas\\r\\n. At the point we parse the payload/value the start of the marker points to k. We need to check if the substring from the marker till the logical end (cmd.bytes_len). If this ends, with any of the \\r\\n it means we undershoot (we passed a string that is less than the specified length. Example is set myset 0 0 4 foo -- we told we are passing a value of 4 characters but we passed three). The second check is for the opposite, if we passed a string that is greater than the specified length (example here is set myset 0 0 3 foobar -- value has 6 chars instead of 3).\nNow I am thinking about it, when we reach to the parsing point, the substring will always end with \\r\\n so it suffices to only compare the lengths. I will push a quick fix that simplifies the above chore.",
                                                        "author": {
                                                            "login": "kostasrim"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1390776877",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "2b7084a",
                                                            "authoredDate": "2023-11-08T18:12:50Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "For (1) I don't really have a preference but I simplified the check so it's no longer needed anymore. For (2), I really don't see any problem with lambda captures but I will make the change since you find it confusing.",
                                                        "author": {
                                                            "login": "kostasrim"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1390779401",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "2b7084a",
                                                            "authoredDate": "2023-11-08T18:12:50Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "indeed it's part of dragonfly_connection.cc right  so we should write a test in pytest using raw socket interface. the protocol is easy, so the test should be easy to write.",
                                                        "author": {
                                                            "login": "romange"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1390951985",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85cdb9a",
                                                            "authoredDate": "2023-11-13T09:37:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I suspect that parse_value is both wrong and inefficient: \\r\\n could be part of the blob data, in that case we will parse something we should not. In addition, calling find(\"\\r\\n\") on potentially a 20MB blob is inefficient and unnecessary.\nWhat about this change?\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n                    auto maybe_value = parse_value(str, consumed, cmd.bytes_len);\n          \n          \n            \n                    if (!maybe_value) {\n          \n          \n            \n                      builder->SendClientError(\"bad data chunk\");\n          \n          \n            \n                      return OK;\n          \n          \n            \n                    }\n          \n          \n            \n                    string_view maybe_value = str.substr(consumed);\n          \n          \n            \n                    if (maybe_value[cmd.bytes_len] != '\\r' || maybe_value[cmd.bytes_len != '\\n') {\n          \n          \n            \n                      builder->SendClientError(\"bad data chunk\");\n          \n          \n            \n                      return ERROR;\n          \n          \n            \n                    }\n          \n          \n            \n                    value = maybe_value.substr(0, cmd.bytes_len);",
                                                        "author": {
                                                            "login": "romange"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1390952328",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85cdb9a",
                                                            "authoredDate": "2023-11-13T09:37:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "correction: parse_value will have false negatives by rejecting blobs that have \\r\\n inside.",
                                                        "author": {
                                                            "login": "romange"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1390962963",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85cdb9a",
                                                            "authoredDate": "2023-11-13T09:37:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "https://chat.openai.com/share/1cbf6e42-6800-4ead-9e07-171c145d3b5b here is how",
                                                        "author": {
                                                            "login": "romange"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1390969392",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "85cdb9a",
                                                            "authoredDate": "2023-11-13T09:37:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "looks good but since we had the iteration with faulty implementation that rejected blobs with \\r\\n in them, lets also add the case that covers this too.",
                                                        "author": {
                                                            "login": "romange"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1392892256",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "de036a8",
                                                            "authoredDate": "2023-11-13T15:17:37Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I see you feel strongly about lambdas, even it's a 2 lines logic :)\nI still think that passing consumed to lambda is arbitrary and it will be cleaner to pass into it str.substr(consumed) from line 740",
                                                        "author": {
                                                            "login": "romange"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1392896052",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "de036a8",
                                                            "authoredDate": "2023-11-13T15:17:37Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I will just remove the lambda ;)",
                                                        "author": {
                                                            "login": "kostasrim"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1392927130",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "de036a8",
                                                            "authoredDate": "2023-11-13T15:17:37Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "why do you return OK?",
                                                        "author": {
                                                            "login": "romange"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1398865999",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "481fb52",
                                                            "authoredDate": "2023-11-16T11:14:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Because that allows us to continue in the IoLoop. The same is done with PARSE_ERROR, BAD_DELTA etc... We always return OK.",
                                                        "author": {
                                                            "login": "kostasrim"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1399054276",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "481fb52",
                                                            "authoredDate": "2023-11-16T11:14:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "well, BAD_DELTA is different because we stay in a state machine that allows to continue parsing, it is still synchronized with the stream it parses.\nif bytes is inconsistent with line endings I do not see how you can recover the stream parsing from this point.",
                                                        "author": {
                                                            "login": "romange"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1399059033",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "481fb52",
                                                            "authoredDate": "2023-11-16T11:14:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "if bytes is inconsistent with line endings I do not see how you can recover the stream parsing from this point.\n\nWe drop the payload (via ConsumeInput) and restart. This is what memcached is doing. Try with telnet:\ntelnet set my 0 0 4\nkostas\nCLIENT_ERROR bad data chunk\nset my 0 0 4\nkost\nSTORED\n\nYou see we don't drop any connection here after the errornous out of range input kostas.\n\nI do not see how you can recover the stream parsing from this point\n\nYou start again from scratch, (that's why I consume the io_buf).\nWhat am I missing?",
                                                        "author": {
                                                            "login": "kostasrim"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1399114647",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "481fb52",
                                                            "authoredDate": "2023-11-16T11:14:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "it's fine :)\ni guess it may be beneficial for some cases and we are discussing the erroneous case anyways.\nfor a general case, you do not know what you are ignoring via io_buf because you can never be sure where the message ends and the next one begins. in your manual check you only test the ping-pong pattern where you assume that  a single message was sent and, read all of it and the client is stuck on reading the reply.\nhowever, it could also be `set my 0 0 4\\r\\nkostas\\r\\nset my 0 0 4\" that is sent on a socket (via pipelining) and you continue being off when parsing further.",
                                                        "author": {
                                                            "login": "romange"
                                                        },
                                                        "url": "https://github.com/dragonflydb/dragonfly/pull/2153#discussion_r1399142907",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "481fb52",
                                                            "authoredDate": "2023-11-16T11:14:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        }
                    ]
                }
            ],
            "pageInfo": {
                "endCursor": "Y3Vyc29yOjM=",
                "hasNextPage": false,
                "hasPreviousPage": false,
                "startCursor": "Y3Vyc29yOjE="
            },
            "issueCount": 3
        }
    }
}