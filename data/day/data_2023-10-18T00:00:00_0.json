{
    "data": {
        "search": {
            "edges": [
                {
                    "node": {
                        "number": 1,
                        "title": "Added in line comments using ChatGPT. Might be helpful.",
                        "repository": {
                            "nameWithOwner": "dharaden/psyc640",
                            "primaryLanguage": {
                                "name": "HTML"
                            }
                        },
                        "createdAt": "2023-10-18T19:56:46Z",
                        "mergedAt": null,
                        "url": "https://github.com/dharaden/psyc640/pull/1",
                        "state": "OPEN",
                        "author": {
                            "login": "fva6937"
                        },
                        "editor": null,
                        "body": "",
                        "comments": {
                            "nodes": [
                                {
                                    "createdAt": "2023-10-18T20:15:12Z",
                                    "bodyText": "My command was:\ncomment in line what this R code is doing\nhttps://chat.openai.com/share/397f049a-c51a-4052-982f-ba62e2f59297",
                                    "url": "https://github.com/dharaden/psyc640/pull/1#issuecomment-1769252260",
                                    "author": {
                                        "login": "fva6937"
                                    }
                                }
                            ]
                        },
                        "reviews": {
                            "edges": []
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 25,
                        "title": "Added support for Message Width and Overlay Color",
                        "repository": {
                            "nameWithOwner": "customerio/gist-web",
                            "primaryLanguage": {
                                "name": "JavaScript"
                            }
                        },
                        "createdAt": "2023-10-18T12:47:22Z",
                        "mergedAt": "2023-11-13T08:50:27Z",
                        "url": "https://github.com/customerio/gist-web/pull/25",
                        "state": "MERGED",
                        "author": {
                            "login": "BernardGatt"
                        },
                        "editor": null,
                        "body": "Tackles: https://github.com/customerio/issues/issues/11505",
                        "comments": {
                            "nodes": []
                        },
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "CHANGES_REQUESTED",
                                        "bodyText": "GPT review:\nhttps://chat.openai.com/share/d0c2a3ac-6225-4817-aa9c-6202305ff9d2",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "LGTM!",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        },
                        {
                            "property": "body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 8136,
                        "title": "feat: Facebook delivery reports",
                        "repository": {
                            "nameWithOwner": "chatwoot/chatwoot",
                            "primaryLanguage": {
                                "name": "Ruby"
                            }
                        },
                        "createdAt": "2023-10-18T05:53:25Z",
                        "mergedAt": "2023-11-20T06:52:45Z",
                        "url": "https://github.com/chatwoot/chatwoot/pull/8136",
                        "state": "MERGED",
                        "author": {
                            "login": "muhsin-k"
                        },
                        "editor": null,
                        "body": "Fixes https://linear.app/chatwoot/issue/CW-2570/delivery-report-for-facebook",
                        "comments": {
                            "nodes": [
                                {
                                    "createdAt": "2023-10-18T05:53:30Z",
                                    "bodyText": "\u2705 Deploy Preview for chatwoot-storybook ready!\n\n\n\nName\nLink\n\n\n\n\n\ud83d\udd28 Latest commit\n5b81235\n\n\n\ud83d\udd0d Latest deploy log\nhttps://app.netlify.com/sites/chatwoot-storybook/deploys/655aeea84113c90008fea332\n\n\n\ud83d\ude0e Deploy Preview\nhttps://deploy-preview-8136--chatwoot-storybook.netlify.app\n\n\n\ud83d\udcf1 Preview on mobile\n Toggle QR Code... Use your smartphone camera to open QR code link.\n\n\n\n\nTo edit notification comments on pull requests, go to your Netlify site configuration.",
                                    "url": "https://github.com/chatwoot/chatwoot/pull/8136#issuecomment-1767692694",
                                    "author": {
                                        "login": "netlify"
                                    }
                                },
                                {
                                    "createdAt": "2023-12-20T07:04:29Z",
                                    "bodyText": "This pull request has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.",
                                    "url": "https://github.com/chatwoot/chatwoot/pull/8136#issuecomment-1863953094",
                                    "author": {
                                        "login": "github-actions"
                                    }
                                }
                            ]
                        },
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Incomplete regular expression for hostnames\nThis regular expression has an unescaped '.' before 'facebook.com', so it might match more hosts than expected.\nShow more details",
                                                        "author": {
                                                            "login": "github-advanced-security"
                                                        },
                                                        "url": "https://github.com/chatwoot/chatwoot/pull/8136#discussion_r1387647246",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "592a380",
                                                            "authoredDate": "2023-11-09T08:28:41Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Added these logs to verify if events are being received in production, as they are not appearing locally.",
                                                        "author": {
                                                            "login": "muhsin-k"
                                                        },
                                                        "url": "https://github.com/chatwoot/chatwoot/pull/8136#discussion_r1392032565",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "d13bcf1",
                                                            "authoredDate": "2023-11-14T04:20:00Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This seems fine, perhaps in the future we might need to add the mutex here, but got to ensure that the sequence of events stay the same before that. No need to change anything for now",
                                                        "author": {
                                                            "login": "scmmishra"
                                                        },
                                                        "url": "https://github.com/chatwoot/chatwoot/pull/8136#discussion_r1395247022",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "80413a9",
                                                            "authoredDate": "2023-11-16T06:58:17Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Can you confirm if this saves the time in UTC\nCc: @sojan-official can you confirm if this is required",
                                                        "author": {
                                                            "login": "scmmishra"
                                                        },
                                                        "url": "https://github.com/chatwoot/chatwoot/pull/8136#discussion_r1395250939",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "80413a9",
                                                            "authoredDate": "2023-11-16T06:58:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I believe Time.zone defaults to UTC.  The payload is something like this,",
                                                        "author": {
                                                            "login": "muhsin-k"
                                                        },
                                                        "url": "https://github.com/chatwoot/chatwoot/pull/8136#discussion_r1395270359",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "80413a9",
                                                            "authoredDate": "2023-11-16T06:58:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "https://chat.openai.com/share/781e05cf-afab-488d-afb3-4885e7df3d82",
                                                        "author": {
                                                            "login": "sojan-official"
                                                        },
                                                        "url": "https://github.com/chatwoot/chatwoot/pull/8136#discussion_r1396672326",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "80413a9",
                                                            "authoredDate": "2023-11-16T06:58:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "@sojan-official @scmmishra Fixed.",
                                                        "author": {
                                                            "login": "muhsin-k"
                                                        },
                                                        "url": "https://github.com/chatwoot/chatwoot/pull/8136#discussion_r1396691192",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "80413a9",
                                                            "authoredDate": "2023-11-16T06:58:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        },
                        {
                            "property": "body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 57,
                        "title": "New hmm download",
                        "repository": {
                            "nameWithOwner": "rotary-genomics/rotary",
                            "primaryLanguage": {
                                "name": "Python"
                            }
                        },
                        "createdAt": "2023-10-18T23:35:27Z",
                        "mergedAt": "2023-10-20T01:02:45Z",
                        "url": "https://github.com/rotary-genomics/rotary/pull/57",
                        "state": "MERGED",
                        "author": {
                            "login": "LeeBergstrand"
                        },
                        "editor": null,
                        "body": "Download and use the TIGRFAM HMM for contig rotation. I vaguely remember that this rule would only run if the end repair was running (my bypass code discussed in https://github.com/jmtsuji/rotary/issues/52). Could you integrate and test this while you are working on end repair?",
                        "comments": {
                            "nodes": [
                                {
                                    "createdAt": "2023-10-19T15:22:03Z",
                                    "bodyText": "I'll check if this works while working on end repair.",
                                    "url": "https://github.com/rotary-genomics/rotary/pull/57#issuecomment-1771211189",
                                    "author": {
                                        "login": "jmtsuji"
                                    }
                                },
                                {
                                    "createdAt": "2023-10-19T22:28:12Z",
                                    "bodyText": "@jmtsuji I'll let you merge this once you have reviewed my comments.",
                                    "url": "https://github.com/rotary-genomics/rotary/pull/57#issuecomment-1771790818",
                                    "author": {
                                        "login": "LeeBergstrand"
                                    }
                                }
                            ]
                        },
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "CHANGES_REQUESTED",
                                        "bodyText": "Looks good! Minor comments are added. Feel free to merge once ready.",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Just checking, is there a reason why basename needs to be run twice?",
                                                        "author": {
                                                            "login": "jmtsuji"
                                                        },
                                                        "url": "https://github.com/rotary-genomics/rotary/pull/57#discussion_r1365708940",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "e447b6f",
                                                            "authoredDate": "2023-10-18T23:21:17Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Is --no-check-certificate still needed? (I think I remember that you added this flag when debugging Pfam.)",
                                                        "author": {
                                                            "login": "jmtsuji"
                                                        },
                                                        "url": "https://github.com/rotary-genomics/rotary/pull/57#discussion_r1365710783",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "e447b6f",
                                                            "authoredDate": "2023-10-18T23:21:17Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "This is not that important, but I wrote this code before I knew about f-strings. In future, we could probably simplify how text strings (with variables) are handled in the snakefile by using f-strings (e.g., f'{START_HMM_NAME}.hmm')",
                                                        "author": {
                                                            "login": "jmtsuji"
                                                        },
                                                        "url": "https://github.com/rotary-genomics/rotary/pull/57#discussion_r1365715097",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "e447b6f",
                                                            "authoredDate": "2023-10-18T23:21:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "@jmtsuji We can probably do a clean-up pass over the code once we get things working and the testing suite in place.",
                                                        "author": {
                                                            "login": "LeeBergstrand"
                                                        },
                                                        "url": "https://github.com/rotary-genomics/rotary/pull/57#discussion_r1366184871",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "e447b6f",
                                                            "authoredDate": "2023-10-18T23:21:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "@jmtsuji So it's a double-edged sword. On the one hand, it would prevent specific attacks where an attacker could doppelganger as the server and send out malware as the hmm. On the other hand, it is more convenient if the server fails to get a new certificate. TI added it during debugging because they didn't bother to get a certificate for the legacy server. After all, it was temporary.",
                                                        "author": {
                                                            "login": "LeeBergstrand"
                                                        },
                                                        "url": "https://github.com/rotary-genomics/rotary/pull/57#discussion_r1366189402",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "e447b6f",
                                                            "authoredDate": "2023-10-18T23:21:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "My recommendation would be to leave it out unless we run into the issue again constantly in the future.",
                                                        "author": {
                                                            "login": "LeeBergstrand"
                                                        },
                                                        "url": "https://github.com/rotary-genomics/rotary/pull/57#discussion_r1366189768",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "e447b6f",
                                                            "authoredDate": "2023-10-18T23:21:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Good eye! Removing.",
                                                        "author": {
                                                            "login": "LeeBergstrand"
                                                        },
                                                        "url": "https://github.com/rotary-genomics/rotary/pull/57#discussion_r1366198485",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "e447b6f",
                                                            "authoredDate": "2023-10-18T23:21:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "See: https://chat.openai.com/share/930460eb-2687-4e57-b683-e06ec3074eee for more info.",
                                                        "author": {
                                                            "login": "LeeBergstrand"
                                                        },
                                                        "url": "https://github.com/rotary-genomics/rotary/pull/57#discussion_r1366199291",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "e447b6f",
                                                            "authoredDate": "2023-10-18T23:21:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "OK, let's leave it out unless we have issues with this again in the future. I'll make a commit to this branch with the change.",
                                                        "author": {
                                                            "login": "jmtsuji"
                                                        },
                                                        "url": "https://github.com/rotary-genomics/rotary/pull/57#discussion_r1366304537",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "e447b6f",
                                                            "authoredDate": "2023-10-18T23:21:17Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        },
                        {
                            "property": "body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 9991,
                        "title": "Gateway dependency",
                        "repository": {
                            "nameWithOwner": "mlflow/mlflow",
                            "primaryLanguage": {
                                "name": "Python"
                            }
                        },
                        "createdAt": "2023-10-18T08:24:38Z",
                        "mergedAt": "2023-10-19T05:10:54Z",
                        "url": "https://github.com/mlflow/mlflow/pull/9991",
                        "state": "MERGED",
                        "author": {
                            "login": "daniellok-db"
                        },
                        "editor": {
                            "login": "github-actions"
                        },
                        "body": "<details><summary>&#x1F6E0 DevTools &#x1F6E0</summary>\n<p>\n\n[![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://codespaces.new/daniellok-db/mlflow/pull/9991?quickstart=1)\n\n#### Install mlflow from this PR\n\n```\npip install git+https://github.com/mlflow/mlflow.git@refs/pull/9991/merge\n```\n\n#### Checkout with GitHub CLI\n\n```\ngh pr checkout 9991\n```\n\n</p>\n</details>\n\n### What changes are proposed in this pull request?\r\n\r\nThis PR updates `_capture_modules.py` to detect when `import mlflow.gateway` is called, and append it appropriately to the resulting `requirements.txt` file\r\n\r\n\r\n### How is this PR tested?\r\n\r\n- [x] Existing unit/integration tests\r\nExisting unit tests work:\r\n```\r\n$ pytest tests/utils/test_requirements_utils.py\r\n...\r\n20 passed, 32 warnings in 7.96s\r\n```\r\n\r\n- [x] New unit/integration tests\r\nAdded a new test:\r\n```\r\ntests/utils/test_requirements_utils.py::test_capture_imported_modules_includes_extras PASSED [100%]\r\n```\r\n\r\n- [x] Manual tests\r\nTried saving a model with `mlflow[gateway]` as a dependency, then switching to an environment that doesn't have `mlflow[gateway]` installed. Expectation here is that it should give me some helpful error message that tells me to install it. I guess the behavior here isn't ideal because it implies that mlflow is not installed at all. I think it should be quite easy to change the `installed_version` param to be more helpful in this case though (see comments below)\r\n<img width=\"675\" alt=\"Screenshot 2023-10-18 at 3 41 28\u202fPM\" src=\"https://github.com/mlflow/mlflow/assets/148037680/3164d222-2b4c-43e8-abe3-8efeb7b31214\">\r\n\r\n### Does this PR require documentation update?\r\n\r\n- [x] No. You can skip the rest of this section.\r\n- [ ] Yes. I've updated:\r\n  - [ ] Examples\r\n  - [ ] API references\r\n  - [ ] Instructions\r\n\r\n### Release Notes\r\n\r\n#### Is this a user-facing change?\r\n\r\n- [x] No. You can skip the rest of this section.\r\n- [ ] Yes. Give a description of this change to be included in the release notes for MLflow users.\r\n\r\n#### What component(s), interfaces, languages, and integrations does this PR affect?\r\n\r\nComponents\r\n\r\n- [x] `area/artifacts`: Artifact stores and artifact logging\r\n- [ ] `area/build`: Build and test infrastructure for MLflow\r\n- [ ] `area/docs`: MLflow documentation pages\r\n- [ ] `area/examples`: Example code\r\n- [x] `area/gateway`: AI Gateway service, Gateway client APIs, third-party Gateway integrations\r\n- [ ] `area/model-registry`: Model Registry service, APIs, and the fluent client calls for Model Registry\r\n- [x] `area/models`: MLmodel format, model serialization/deserialization, flavors\r\n- [ ] `area/recipes`: Recipes, Recipe APIs, Recipe configs, Recipe Templates\r\n- [ ] `area/projects`: MLproject format, project running backends\r\n- [ ] `area/scoring`: MLflow Model server, model deployment tools, Spark UDFs\r\n- [ ] `area/server-infra`: MLflow Tracking server backend\r\n- [ ] `area/tracking`: Tracking Service, tracking client APIs, autologging\r\n\r\nInterface\r\n\r\n- [ ] `area/uiux`: Front-end, user experience, plotting, JavaScript, JavaScript dev server\r\n- [ ] `area/docker`: Docker use across MLflow's components, such as MLflow Projects and MLflow Models\r\n- [ ] `area/sqlalchemy`: Use of SQLAlchemy in the Tracking Service or Model Registry\r\n- [ ] `area/windows`: Windows support\r\n\r\nLanguage\r\n\r\n- [ ] `language/r`: R APIs and clients\r\n- [ ] `language/java`: Java APIs and clients\r\n- [ ] `language/new`: Proposals for new client languages\r\n\r\nIntegrations\r\n\r\n- [ ] `integrations/azure`: Azure and Azure ML integrations\r\n- [ ] `integrations/sagemaker`: SageMaker integrations\r\n- [ ] `integrations/databricks`: Databricks integrations\r\n\r\n<!--\r\nInsert an empty named anchor here to allow jumping to this section with a fragment URL\r\n(e.g. https://github.com/mlflow/mlflow/pull/123#user-content-release-note-category).\r\nNote that GitHub prefixes anchor names in markdown with \"user-content-\".\r\n-->\r\n\r\n<a name=\"release-note-category\"></a>\r\n\r\n#### How should the PR be classified in the release notes? Choose one:\r\n\r\n- [x] `rn/none` - No description will be included. The PR will be mentioned only by the PR number in the \"Small Bugfixes and Documentation Updates\" section\r\n- [ ] `rn/breaking-change` - The PR will be mentioned in the \"Breaking Changes\" section\r\n- [ ] `rn/feature` - A new user-facing feature worth mentioning in the release notes\r\n- [ ] `rn/bug-fix` - A user-facing bug fix worth mentioning in the release notes\r\n- [ ] `rn/documentation` - A user-facing documentation change worth mentioning in the release notes\r\n",
                        "comments": {
                            "nodes": [
                                {
                                    "createdAt": "2023-10-18T08:24:59Z",
                                    "bodyText": "Documentation preview for b212463 will be available here when this CircleCI job completes successfully.\n\nMore info\n\nIgnore this comment if this PR does not change the documentation.\nIt takes a few minutes for the preview to be available.\nThe preview is updated when a new commit is pushed to this PR.\nThis comment was created by https://github.com/mlflow/mlflow/actions/runs/6569585052.",
                                    "url": "https://github.com/mlflow/mlflow/pull/9991#issuecomment-1767941983",
                                    "author": {
                                        "login": "github-actions"
                                    }
                                }
                            ]
                        },
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "tried to follow the format of the databricks special casing above, but not sure if it's necessary since this really only affects gateway",
                                                        "author": {
                                                            "login": "daniellok-db"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363462318",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "the value here is kind of arbitrary\u2014it doesn't really get used except in requirements_utils.py:429 but it's hardcoded there too. maybe i should const it?",
                                                        "author": {
                                                            "login": "daniellok-db"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363462822",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "i felt a little weird about this, let me know if there's a better way to get the gateway extra recognized as a proper package.",
                                                        "author": {
                                                            "login": "daniellok-db"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363463256",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "if we want to keep the one liner i can make this something like\nreturn sorted([\n    _get_pinned_requirement(pkg) for pkg in packages \n    if pkg != \"mlflow[gateway]\" \n    else _get_pinned_requirements(\"mlflow\", extras=[\"gateway\"]\n)])",
                                                        "author": {
                                                            "login": "daniellok-db"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363463810",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "reusing the gateway detection logic from here\nas mentioned in the PR description, i could maybe change installed_version here to be something like mlflow=={version} rather than None, would that be more helpful?",
                                                        "author": {
                                                            "login": "daniellok-db"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363464277",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I like the current code. It looks more readable than one-liner.",
                                                        "author": {
                                                            "login": "harupy"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363478733",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "The error message would look like this?\nmlflow (current: uninstalled, requirement: mlflow[gateway])",
                                                        "author": {
                                                            "login": "harupy"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363494674",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "yup exactly, i'm wondering if people will get confused and think that mlflow is not installed at all",
                                                        "author": {
                                                            "login": "daniellok-db"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363496204",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Another option is refactor _get_pinned_requirements  to accept a package requirement like mlflow[gateway] and remove the extras argument. This allows us to remove if package == \"mlflow[gateway].\ndiff --git a/mlflow/utils/requirements_utils.py b/mlflow/utils/requirements_utils.py\nindex 9233e52a7..cdbbbb26b 100644\n--- a/mlflow/utils/requirements_utils.py\n+++ b/mlflow/utils/requirements_utils.py\n@@ -462,18 +462,20 @@ def _strip_local_version_label(version):\n         return version\n \n \n-def _get_pinned_requirement(package, version=None, module=None, extras=None):\n+def _get_pinned_requirement(req, version=None, module=None):\n     \"\"\"\n     Returns a string representing a pinned pip requirement to install the specified package and\n     version (e.g. 'mlflow==1.2.3').\n \n-    :param package: The name of the package.\n+    :param req: The package requirement (e.g., 'mlflow' or 'mlflow[gateway]')\n     :param version: The version of the package. If None, defaults to the installed version.\n     :param module: The name of the top-level module provided by the package . For example,\n                    if `package` is 'scikit-learn', `module` should be 'sklearn'. If None, defaults\n                    to `package`.\n     :param extras: A list of extra names for the package\n     \"\"\"\n+    req = Requirement(req)\n+    package = req.name\n     if version is None:\n         version_raw = _get_installed_version(package, module)\n         local_version_label = _get_local_version_label(version_raw)\n@@ -492,8 +494,8 @@ def _get_pinned_requirement(package, version=None, module=None, extras=None):\n         else:\n             version = version_raw\n \n-    if extras:\n-        return f\"{package}[{','.join(extras)}]=={version}\"\n+    if req.extras:\n+        return f\"{package}[{','.join(req.extras)}]=={version}\"\n     return f\"{package}=={version}\"",
                                                        "author": {
                                                            "login": "harupy"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363496519",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "I think overall looks great! Just left a few nits :)",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                    def predict(self, _, inputs):\n          \n          \n            \n                    def predict(self, _, inputs, params=None):\n          \n      \n    \n    \n  \n\nLet's use the method signature defined in PythonModel.",
                                                        "author": {
                                                            "login": "serena-ruan"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363489856",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n                        input_example=([1, 2, 3]),\n          \n          \n            \n                        input_example=[1, 2, 3],",
                                                        "author": {
                                                            "login": "serena-ruan"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363491078",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "We can update this to one line though\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n                    if package == \"mlflow[gateway]\":\n          \n          \n            \n                        pinned_requirement = _get_pinned_requirement(\"mlflow\", extras=[\"gateway\"])\n          \n          \n            \n                    else:\n          \n          \n            \n                        pinned_requirement = _get_pinned_requirement(package)\n          \n          \n            \n                    pinned_requirement = _get_pinned_requirement(\"mlflow\", extras=[\"gateway\"]) if package == \"mlflow[gateway]\" else _get_pinned_requirement(package)",
                                                        "author": {
                                                            "login": "serena-ruan"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363495803",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "I like this, we could use it to detect other extras in the future.",
                                                        "author": {
                                                            "login": "serena-ruan"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363499859",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "I think it's fine, we also use it in _capture_modules.",
                                                        "author": {
                                                            "login": "serena-ruan"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363501073",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Maybe update package_name to be mlflow[gateway]?",
                                                        "author": {
                                                            "login": "serena-ruan"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363505233",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Maybe update package_name to be mlflow[gateway]?\n\n+1",
                                                        "author": {
                                                            "login": "harupy"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363508380",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            def test_capture_imported_modules_includes_extras():\n          \n          \n            \n            def test_capture_imported_modules_includes_gateway_extra():",
                                                        "author": {
                                                            "login": "harupy"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1363511052",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "Left some comments, otherwise LGTM!",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "this makes sense, i went with this solution in the end!",
                                                        "author": {
                                                            "login": "daniellok-db"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1364841294",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "419db6c",
                                                            "authoredDate": "2023-10-18T08:11:59Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "@harupy I ended up refactoring the _get_pinned_requirement function to remove the extras param, so I had to edit this callsite as well (looks like it was the only other one using the extras param). Let me know if it looks alright!",
                                                        "author": {
                                                            "login": "daniellok-db"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1364842819",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b212463",
                                                            "authoredDate": "2023-10-19T03:43:07Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Yes, looks good to me!",
                                                        "author": {
                                                            "login": "harupy"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1364844280",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b212463",
                                                            "authoredDate": "2023-10-19T03:43:07Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "for some reason the old line (import mlflow.gateway) was causing a test failure.\nIt looks like it was overriding the mlflow variable name, making line 557 below fail (mlflow.__version__):\nTraceback (most recent call last):\n  File \"/Users/daniel.lok/mlflow/mlflow/pyfunc/__init__.py\", line 594, in _warn_dependency_requirement_mismatches\n    mismatch_info = _check_requirement_satisfied(req_line)\n  File \"/Users/daniel.lok/mlflow/mlflow/utils/requirements_utils.py\", line 557, in _check_requirement_satisfied\n    and installed_version == mlflow.__version__\nUnboundLocalError: local variable 'mlflow' referenced before assignment\n\nChanging this to from mlflow import gateway seems to fix",
                                                        "author": {
                                                            "login": "daniellok-db"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1364844520",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b212463",
                                                            "authoredDate": "2023-10-19T03:43:07Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Interesting. mlflow is imported in the top level in requirements_utils.py.",
                                                        "author": {
                                                            "login": "harupy"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1364856038",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b212463",
                                                            "authoredDate": "2023-10-19T03:43:07Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "yeah i'm not sure about the cause either\u2014you can try this example to repro:\nimport datetime\n\ndef test(should_import):\n    if should_import:\n        import datetime.datetime\n    print(datetime.__version__)\n\ntest(False)",
                                                        "author": {
                                                            "login": "daniellok-db"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1364859879",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b212463",
                                                            "authoredDate": "2023-10-19T03:43:07Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Or here is one that actually does something when test(True):\nimport importlib\n\ndef test(should_import):\n    if should_import:\n        import importlib.metadata\n    print(importlib.__name__)\n\ntest(False)",
                                                        "author": {
                                                            "login": "daniellok-db"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1364861458",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b212463",
                                                            "authoredDate": "2023-10-19T03:43:07Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "https://chat.openai.com/share/372cbd76-25c3-4fef-840b-2b826d44588b",
                                                        "author": {
                                                            "login": "harupy"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1364865450",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b212463",
                                                            "authoredDate": "2023-10-19T03:43:07Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "import mlflow.gateway\n\nis equivalent to:\nmlflow = ...\nmlflow.gateway = ...\n\n?",
                                                        "author": {
                                                            "login": "harupy"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1364872664",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b212463",
                                                            "authoredDate": "2023-10-19T03:43:07Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This seems like a good python quiz.",
                                                        "author": {
                                                            "login": "harupy"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1364875020",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b212463",
                                                            "authoredDate": "2023-10-19T03:43:07Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Let's use from mlflow import gateway :)",
                                                        "author": {
                                                            "login": "harupy"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1364875368",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b212463",
                                                            "authoredDate": "2023-10-19T03:43:07Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Hahaha yeah it's weird. It has something to do with the conditional, it does something even when the code inside the if block will never be executed:\nimport importlib\n\ndef test():\n    if False:\n        import importlib.metadata\n    print(importlib.__name__)\n\ntest()\nit also seems to matter that it's in a function, because the following has no problems:\nimport importlib\n\nif False:\n    import importlib.metadata\nprint(importlib.__name__)\nbut anyway yeah i think in the end the problem can be avoided with from mlflow import gateway because then there's no reassignment to the mlflow variable, just gateway.",
                                                        "author": {
                                                            "login": "daniellok-db"
                                                        },
                                                        "url": "https://github.com/mlflow/mlflow/pull/9991#discussion_r1364877375",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b212463",
                                                            "authoredDate": "2023-10-19T03:43:07Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "APPROVED",
                                        "bodyText": "LGTM!",
                                        "comments": {
                                            "edges": []
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        },
                        {
                            "property": "body"
                        }
                    ]
                }
            ],
            "pageInfo": {
                "endCursor": "Y3Vyc29yOjU=",
                "hasNextPage": false,
                "hasPreviousPage": false,
                "startCursor": "Y3Vyc29yOjE="
            },
            "issueCount": 5
        }
    }
}