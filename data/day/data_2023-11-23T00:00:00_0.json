{
    "data": {
        "search": {
            "edges": [
                {
                    "node": {
                        "number": 70,
                        "title": "removing constructor arg",
                        "repository": {
                            "nameWithOwner": "m-c-frank/justthoughts",
                            "primaryLanguage": {
                                "name": "JavaScript"
                            }
                        },
                        "createdAt": "2023-11-23T06:36:52Z",
                        "mergedAt": "2023-11-23T06:37:10Z",
                        "url": "https://github.com/m-c-frank/justthoughts/pull/70",
                        "state": "MERGED",
                        "author": {
                            "login": "m-c-frank"
                        },
                        "editor": null,
                        "body": "",
                        "comments": {
                            "nodes": [
                                {
                                    "createdAt": "2023-11-23T06:37:07Z",
                                    "bodyText": "https://chat.openai.com/share/a8506849-6efd-49d5-b03c-df77de2cccba",
                                    "url": "https://github.com/m-c-frank/justthoughts/pull/70#issuecomment-1823878174",
                                    "author": {
                                        "login": "m-c-frank"
                                    }
                                }
                            ]
                        },
                        "reviews": {
                            "edges": []
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        }
                    ]
                },
                {
                    "node": {
                        "number": 220,
                        "title": "[Off-Chain] Add `EventsReplayClient` Generic Event Listener for `BlockClient` and `DelegationClient`",
                        "repository": {
                            "nameWithOwner": "pokt-network/poktroll",
                            "primaryLanguage": {
                                "name": "Go"
                            }
                        },
                        "createdAt": "2023-11-23T21:52:18Z",
                        "mergedAt": "2023-12-07T21:57:39Z",
                        "url": "https://github.com/pokt-network/poktroll/pull/220",
                        "state": "MERGED",
                        "author": {
                            "login": "h5law"
                        },
                        "editor": {
                            "login": "reviewpad"
                        },
                        "body": "## Summary\r\n\r\n### Human Summary\r\n\r\nThis PR converts the existing `BlockClient` into an implenentation of the generic `EventsReplayClient` which subscribes to and listens for on chain events and maps them into the desired type of the implemented `EventsReplayClient`\r\n\r\nBlockClient -> `EventsReplayClient[Block]`\r\nDelegationClient -> `EventsReplayClient[DelegateeChange]`\r\n\r\nThese new client interfaces have their own methods which wrap those exposed by the `EventsReplayClient`\r\n\r\n### AI Summary\r\n\r\n<!-- reviewpad:summarize:start -->\n### Summary generated by Reviewpad on 07 Dec 23 20:34 UTC\nThis pull request:\n- Modifies the `ring_signer.go` file in the `pkg/signer` package by updating the comments for the `NewRingSigner` function and the `Sign` method.\n- Introduces a new `client_integration_test.go` file in the `pkg/client/delegation` package, which contains a test function for the `DelegationClient` redelegation functionality. However, the test is currently skipped and needs further investigation and fixing.\n- Adds a new file `replay_client.go` in the `pkg/client/events` package, which implements a replay client for handling events and provides various functions for interacting with the client.\n- Contains changes in the `claim.go` file under the `pkg/relayer/session` package, involving refactoring and optimization of code.\n- Removes an empty line in the SupplierAll function in a certain file.\n- Deletes the `errors.go` file, which contained a package named `websocket` and imported another package named `errorsmod`, as well as defined an error variable and a codespace variable.\n- Adds a new file `godoc.go` in the `pkg/client/block` package, which is a wrapper for the `EventsReplayClient[Block]` generic and listens for committed block events on the chain.\n- Introduces a new file `event.proto` in the `pocket/application` directory, defining a protocol buffer message `EventRedelegation` for application delegatee gateway changes on the chain.\n- Includes changes in a certain file related to table formatting, addition of new interfaces and components, and import statements.\n- Adds a new file `errors.go` with error handling functionality specific to event handling in the client package.\n- Modifies the flag descriptions and import statements in a certain file.\n- Changes import statements and the file structure in a certain file.\n- Updates comments, including changes from \"serialised\" to \"serialized\" in various files.\n- Adds a new file `client_test.go` with test cases for the `DelegationClient` struct.\n- Introduces a new file `websocket` that provides a websocket client for connecting to a cosmos-sdk based chain node.\n- Adds a new file `godoc.go` that contains documentation for the `delegation` package and its functionalities.\n- Adds a new file `redelegation.go` that defines a struct and a factory function for deserializing data into the struct.\n- Adds a new file that provides a generic client for subscribing to on-chain events with the usage of ReplayObservables.\n- Renames and modifies import statements in a file.\n- Modifies a file by adding assertions for events in test functions.\n- Renames and modifies the `client_integration_test.go` file, including changes in the package name and import statements.\n- Modifies a file by adding new lines, formatting, and emission of events.\n- Deletes the `events_query.md` file that provided an overview of the package.\n- Changes the URL in the Makefile for accessing the generated documentation.\n- Modifies the import statement in a file.\n- Adds a new method to a struct in a file.\n\nPlease let me know if you need further assistance or have any questions.\n<!-- reviewpad:summarize:end -->\r\n\r\n## Issue\r\n\r\n- Fixes N/A\r\n\r\n## Type of change\r\n\r\nSelect one or more:\r\n\r\n- [x] New feature, functionality or library\r\n- [ ] Bug fix\r\n- [ ] Code health or cleanup\r\n- [ ] Documentation\r\n- [ ] Other (specify)\r\n\r\n## Testing\r\n\r\n- [x] **Run all unit tests**: `make go_develop_and_test`\r\n- [x] **Verify Localnet manually**: See the instructions [here](TODO: add link to instructions)\r\n\r\n## Sanity Checklist\r\n\r\n- [x] I have tested my changes using the available tooling\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, updated documentation and left TODOs throughout the codebase\r\n",
                        "comments": {
                            "nodes": [
                                {
                                    "createdAt": "2023-11-24T22:36:08Z",
                                    "bodyText": "@h5law Skipping this over for now but please request a review when we should take look.",
                                    "url": "https://github.com/pokt-network/poktroll/pull/220#issuecomment-1826118211",
                                    "author": {
                                        "login": "Olshansk"
                                    }
                                },
                                {
                                    "createdAt": "2023-12-05T19:32:57Z",
                                    "bodyText": "@h5law Leaving a comment just to avoid miscommunication. Please re-request a review once this is ready for another look.",
                                    "url": "https://github.com/pokt-network/poktroll/pull/220#issuecomment-1841491153",
                                    "author": {
                                        "login": "Olshansk"
                                    }
                                },
                                {
                                    "createdAt": "2023-12-07T00:21:46Z",
                                    "bodyText": "@Olshansk @bryanchriswhite Should be good to go now <3",
                                    "url": "https://github.com/pokt-network/poktroll/pull/220#issuecomment-1843930280",
                                    "author": {
                                        "login": "h5law"
                                    }
                                }
                            ]
                        },
                        "reviews": {
                            "edges": [
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "These is the generic MappedClient interface",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1404615681",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b913818",
                                                            "authoredDate": "2023-11-24T19:34:25Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "@h5law After thinking about it for a bit, I think this should be called EventsReplayClient.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1404826103",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b913818",
                                                            "authoredDate": "2023-11-24T19:34:25Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I still plan on looking more closely at the package structure but haven't had a chance to do so yet.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1404826407",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b913818",
                                                            "authoredDate": "2023-11-24T19:34:25Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I actually called this the ReplayClient first then the TransformingClient \ud83e\udd16 then MappedClient lmao",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1404830908",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b913818",
                                                            "authoredDate": "2023-11-24T19:34:25Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I also think that the block and delegate clients should lightly wrap (as opposed to bring or embedding) this generic type so that they have control over their own method names and, more importantly, become independently open for extension (SOLID).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1404879904",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b913818",
                                                            "authoredDate": "2023-11-24T19:34:25Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I think this should be called BlocksReplayObservable to improve clarity. I get that it's defined in the block package but when reading code that uses is in the block package, it can be a bit confusing.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405183974",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b0b468c",
                                                            "authoredDate": "2023-11-25T17:12:02Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Similar feedback here, I feel like DelegateeChangeReplayObservable (or something similar) would improve readability.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405184648",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b0b468c",
                                                            "authoredDate": "2023-11-25T17:12:02Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Don't forget to update comments referencing anything that's getting renamed.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405189746",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b0b468c",
                                                            "authoredDate": "2023-11-25T17:12:02Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This package should be eventsreplay. No need to append \u201dclient\".",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405190321",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b0b468c",
                                                            "authoredDate": "2023-11-25T17:12:02Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "On second thought, perhaps this should be pkg/client/event/ instead. That would be more consistent with what you've done with block and delegate. Wdyt?",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405195022",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "b0b468c",
                                                            "authoredDate": "2023-11-25T17:12:02Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "TL;DR, I think these need to be re-consolidated into pkg/client/interfaces.\nFriendly reminder that go package dependency  trees are DAGs. These interfaces SHOULD not be defined in the same package as their implementation. It is likely to create an import cycle now or in the future.\nTypically it's considered good practice to prefer defining interfaces in, or closer to, the consumer package. Perhaps it's best to think about the fact that this package exports these interfaces as a convenience so that there is a common place for consumers to import them from as they are pretty general purpose and consumer pkgs will be numerous and disparate. It should follow then, that when the consumer pkg imports the pkg containing these interfaces, the resulting branch which is included in the dependency tree SHOULD not include any implementations.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405852929",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "(same as #220 (comment))",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405853702",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I feel like it would make more sense for this and pkg/client/events_query to be the same package. However, upon reflection, I don't see any reason not to simplify the name to pkg/client/events, like it is here.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405858160",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \tmappedClient client.EventsReplayClient[client.Block, client.EventsObservable[client.Block]]\n          \n          \n            \n            \teventsReplayClient client.EventsReplayClient[client.Block, client.EventsObservable[client.Block]]",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405874699",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \treturn &blockClient{mappedClient: client}, nil\n          \n          \n            \n            \treturn &eventsReplayClient{mappedClient: client}, nil",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405875196",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \treturn b.mappedClient.EventsSequence(ctx).(BlockReplayObservable)\n          \n          \n            \n            \treturn b.eventsReplayClient.EventsSequence(ctx).(BlockReplayObservable)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405875427",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \tevents := b.mappedClient.LastNEvents(ctx, n)\n          \n          \n            \n            \tevents := b.eventsReplayClient.LastNEvents(ctx, n)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405875687",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \tb.mappedClient.Close()\n          \n          \n            \n            \tb.eventsReplayClient.Close()",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405875900",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I don't think this should be necessary any more, client.Block is T and the generic signature of LastNEvents is func (mClient *replayClient[T, R]) LastNEvents(ctx context.Context, n int) []T.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405878215",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "(same as #220 (comment))",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1405883423",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fd1345",
                                                            "authoredDate": "2023-11-26T03:15:48Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "[linter-name (fail-on-found)] reported by reviewdog \ud83d\udc36// TODO_IN_THIS_PR: Figure out how to use real components of the localnet",
                                                        "author": {
                                                            "login": "github-actions"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1412710356",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "ca068a0",
                                                            "authoredDate": "2023-12-02T03:01:16Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              if the `EventsQueryClient` returns an error/is closed.\n          \n          \n            \n              if the `EventsQueryClient` returns an error or is closed unexpectedly.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1413824904",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I like how you've added structure to make room here. \ud83d\ude0e\nWdyt about adding links to the godoc? They will eventually be updated after this is merged. In the meantime you can use the make go_docs target to double-check the URL path.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1413828311",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I had linked to the v0.47 page specifically as some things around events have changed in v0.50 IIRC. I find myself wanting to also suggest adding a TODO to update this (and the analogous comment in EventsQueryClient) but I don't think there's a good place for that in the docs. I've started #240 as a way to capture things like this (and I've already added this one).\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            // See: https://docs.cosmos.network/main/learn/advanced/events#subscribing-to-events\n          \n          \n            \n            // And: https://docs.cosmos.network/main/learn/advanced/events#default-events\n          \n          \n            \n            // See: https://docs.cosmos.network/v0.47/learn/advanced/events#subscribing-to-events\n          \n          \n            \n            // And: https://docs.cosmos.network/v0.47/learn/advanced/events#default-events",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1413844336",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Let's add a  TODO around the txClient definition to refactor it in terms of EventsReplayClient. I think it can probably be simplified by its usage as well but this PR is already big enough. \ud83d\ude05",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414322217",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Please update the Clients Dependency Tree diagram:\n\n  \n    \n      ---\ntitle: Clients Dependency Tree\n---\nflowchart\nsup[SupplierClient]\ntx[TxClient]\ntxctx[[TxContext]]\nsubgraph bl[BlockClient]\n    bl_evt_replay[EventsReplayClient]\nend\nsubgraph del[DelegationClient]\n    del_evt_replay[EventsReplayClient]\nend\nevt[EventsQueryClient]\nconn[[Connection]]\ndial[[Dialer]]\nsup --\"#SignAndBroadcast()\"--> tx\ntx --\"#CommittedBlocksSequence()\"--> bl\ntx --\"#BroadcastTx\"--> txctx\ntx --\"#EventsBytes()\"--> evt\nbl_evt_replay --\"#EventsBytes()\"--> evt\ndel_evt_replay --\"#EventsBytes()\"--> evt\nevt --> conn\nevt --\"#DialContext()\"--> dial\ndial --\"(returns)\"--> conn",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414326427",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "NIT:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            \tdelegationClient, err := delegation.NewDelegationClient(ctx, deps, testclient.CometLocalWebsocketURL)\n          \n          \n            \n            \t// NB: the URL passed to  `NewDelegationClient` is irrelevant here because `eventsQueryClient` is a mock.\n          \n          \n            \n            \tdelegationClient, err := delegation.NewDelegationClient(ctx, deps, testclient.CometLocalWebsocketURL)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414331978",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "You should be able to uncomment most of this and add a t.SkipNow() call to prevent it from running:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            // func TestDelegationClient_DelegateeChangesObservables(t *testing.T) {\n          \n          \n            \n            // TODO_TEST/TODO_TECHDEBT: ...\n          \n          \n            \n            func TestDelegationClient_DelegateeChangesObservables(t *testing.T) {\n          \n          \n            \n            \tt.SkipNow()",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414334589",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This is my bad:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n              b -.\"A uses D via network IO\".-> d\n          \n          \n            \n              b -.\"B uses D via network IO\".-> d",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414339145",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'm still thinking about this flowchart (i.e. will have more feedback) but the first thing I notice is that it's upside down; take a look at the legend one more time.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414340113",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I think we should look for opportunities to unify the disparate diagrams with consistent naming and structure of shared components, especially external; e.g. Pocket Network vs Cometbft  Node / Action vs subscribe endpoint. In this case, I think there's more value in aligning these things category theoretically such that the reader doesn't have to interpret two different representations of the same thing (and hopefully realize that's the intent).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414346305",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'm noticing that EventsQueryClient is described here in terms of inert sub-components. Whereas, in EventsQueryClient Components, it's (already) described using sub-components which actually associate with others.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414349754",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Publish Events Factory seems like it should be named retryPublishEventsFactory. Additionally, it's a a function represented as a rectangle, but rectangles represent components in the legend (and rest of the diagram).\nIn other places I've used a rounded rectangle to represent functions or methods. Regardless of how that \"kind\" of thing is represented, it should be:\n\nDistinct from other \"kinds\" which are already defined (for other purposes; i.e. component, usage associations, etc.).\nUsed consistently for that \"kind\", currently retry.OnError is depicted as a usage association. It also needs to change and should be represented the same way as retryPublishEventsFactory (assuming  both are still represented in the next iteration).\nSufficiently described in the legend to be unambiguous (i.e. hard to misinterpret).\n\nThink of the legend as a design language that you construct for a set of diagrams. You can tailor that design language to what you're trying to emphasize (in the diagrams that share that design language). But in the end it needs to be self-consistent and unambiguous. Usage must also be consistent and conformal.\nI also find it useful to take a somewhat \"category theoretical\" perspective to it in that you're describing the identity of things (perhaps in different terms per design language). As such, the distinctions between categories and their degrees of freedom should be unambiguous.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414399074",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "FWIW the legend also doesn't currently define rules around encapsulation. That could be taken as an opportunity either to add some and express them in here, or to reconsider representing encapsulation so strictly (e.g. EventsQueryClient/EventsReplayClient). I don't have a strong opinion here but wanted to share some additional perspective with the expectation that you'll make an appropriate decision.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414443662",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            const cometWebsocketURL = \"ws://example.com:36657\"\n          \n          \n            \n            const cometWebsocketURL = \"ws://example.com:36657/websocket\"",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414556229",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n              GetName() string\n          \n          \n            \n              GetName() string // Illustrative only; arbitrary interfaces are supported.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414556795",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Wdyt about making this example use a factory function as that's a pattern that may prove useful in many consumer contexts? We can use a context.Context in this example but perhaps there are other and/or more idiomatic factory function parameters.\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            func newEventType(eventBz []byte) EventType {\n          \n          \n            \n              eventMsg := new(eventType)\n          \n          \n            \n              if err := json.Unmarshal(eventBz, eventMsg); err != nil {\n          \n          \n            \n                return nil, err\n          \n          \n            \n              }\n          \n          \n            \n            \n          \n          \n            \n              // Confirm the event is correct by checking its fields\n          \n          \n            \n              if eventMsg.Name == \"\" {\n          \n          \n            \n                return nil, events.ErrEventsUnmarshalEvent.\n          \n          \n            \n                  Wrapf(\"unable to unmarshal eventType: %s\", string(eventBz))\n          \n          \n            \n              }\n          \n          \n            \n            \n          \n          \n            \n              return eventMsg, nil\n          \n          \n            \n            }\n          \n          \n            \n            // TODO_IN_THIS_COMMIT: godoc\n          \n          \n            \n            // TODO_IN_THIS_COMMIT: move to `pkg/client/events/...`\n          \n          \n            \n            type NewEventFn[T any] = func([]byte) T\n          \n          \n            \n            \n          \n          \n            \n            func eventTypeFactory(ctx context.Context) NewEventFn[EventType] {\n          \n          \n            \n              return function(eventBz []byte) EventType {  eventMsg := new(eventType)\n          \n          \n            \n                logger := polylog.Ctx(ctx)\n          \n          \n            \n              \n          \n          \n            \n                if err := json.Unmarshal(eventBz, eventMsg); err != nil {\n          \n          \n            \n                  return nil, err\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                // Confirm the event is correct by checking its fields\n          \n          \n            \n                if eventMsg.Name == \"\" {\n          \n          \n            \n                  return nil, events.ErrEventsUnmarshalEvent.\n          \n          \n            \n                    Wrapf(\"with eventType data: %s\", string(eventBz))\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                return eventMsg, nil\n          \n          \n            \n              }\n          \n          \n            \n            }",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414561885",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Perhaps it would also be worth defining a NewEventFn = func([]byte) EventType generic (see suggestion above).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414568543",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'm wondering if it makes sense for either retry.OnError or retryPublishEventsFactory  to be in this diagram. This diagram should be about the relationship betwen the components that are necessary for this unit to function.\nI think it makes more sense for retry.OnError and retryPublishEventsFactory to be central in some other diagram about the retry loop; perhaps a flowchart or state diagram showing the ways in which the client can get disconnected, how it recovers, and ultimately aborts and errors. There should be an analogous diagram for the EventsQueryClient as it does a similar thing IIRC. Perhaps they can be represented in the same diagram, but it's okay if not. We could also save this diagram for later and add a TODO in a > TODO_DOCS: ... quote line under the diagram.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414576341",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Again this is my fault, but wdyt about renaming these to be more consistent with the naming structure our on-chain errors?",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414580521",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Wdyt about something like this (included in #220 (comment))?\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n                  Wrapf(\"unable to unmarshal eventType: %s\", string(eventBz))\n          \n          \n            \n                  Wrapf(\"with eventType data: %s\", string(eventBz))",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414581768",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "NIT:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            latestEventsObsvbl := client.EventsSequence(ctx)\n          \n          \n            \n            // Get the latest events from the sequence\n          \n          \n            \n            lastEventType := latestEventsObsvbl.Last(ctx, 1)[0]\n          \n          \n            \n            latestEventsObs := client.EventsSequence(ctx)\n          \n          \n            \n            // Get the latest events from the sequence\n          \n          \n            \n            lastEventType := latestEventsObs.Last(ctx, 1)[0]",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414583141",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "The error message is a bit redundant as ErrEventsUnmarshalEvent contains \"failed to unmarshal event bytes\" (similar to #220 (comment)).\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            \t\treturn nil, events.ErrEventsUnmarshalEvent.\n          \n          \n            \n            \t\t\tWrapf(\"unable to unmarshal block: %s\", string(blockMsgBz))\n          \n          \n            \n            \t\treturn nil, events.ErrEventsUnmarshalEvent.\n          \n          \n            \n            \t\t\tWrapf(\"with block data: %s\", string(blockMsgBz))",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414584486",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // blockClient is a wrapper around an EventsReplayClient that implements the\n          \n          \n            \n            // interface for use in network.\n          \n          \n            \n            // blockClient is a wrapper around an EventsReplayClient that implements the\n          \n          \n            \n            // BlockClient interface for use with cosmos-sdk networks.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414586331",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I think the #EventBytes (NIT: #EventBytes()) association is inaccurately represented as network I/O.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414588008",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'm wondering if it makes sense for either retry.OnError or retryPublishEventsFactory to be in this diagram. This diagram should be about the relationship betwen the components that are necessary for this unit to function.\n\nSimilar feedback on DecoderFunction. It probably make sense to have a diagram that focuses on data transformation through EventsReplayClient, which DecoderFunction would be a critical part of. Also, is there a name that's more consistent with the code or have I just not read that part yet?",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414590757",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "NIT: Wdyt about newEventFn (also see #220 (comment))",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414591213",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Wdyt about renaming this to latestObs. Open to better suggestions but I think the consistency would be an improvement.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414592294",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // LastNEvents returns the latest typed event that's been received by the\n          \n          \n            \n            // LastNEvents returns the last N typed events that have been received by the",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414593325",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This statement is no longer true as the EventsReplayClient is encapsulated now.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414597094",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "(same as #220 (comment))",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414597725",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "\ud83d\udcaf",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414597856",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "#PUC, and I don't think we need to mention gomock at this level.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414598304",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Should this be delegatee?",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414599736",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t\teventsBzObsvbl, err := rClient.eventsClient.EventsBytes(ctx, rClient.queryString)\n          \n          \n            \n            \t\tif err != nil {\n          \n          \n            \n            \t\t\terrCh <- err\n          \n          \n            \n            \t\t\treturn errCh\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\t// NB: must cast back to generic observable type to use with Map.\n          \n          \n            \n            \t\t// client.BlocksObservable cannot be an alias due to gomock's lack of\n          \n          \n            \n            \t\t// support for generic types.\n          \n          \n            \n            \t\teventsBz := observable.Observable[either.Either[[]byte]](eventsBzObsvbl)\n          \n          \n            \n            \t\teventsBzObs, err := rClient.eventsClient.EventsBytes(ctx, rClient.queryString)\n          \n          \n            \n            \t\tif err != nil {\n          \n          \n            \n            \t\t\terrCh <- err\n          \n          \n            \n            \t\t\treturn errCh\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\t// NB: must cast back to generic observable type to use with Map.\n          \n          \n            \n            \t\t// client.BlocksObservable cannot be an alias due to gomock's lack of\n          \n          \n            \n            \t\t// support for generic types.\n          \n          \n            \n            \t\teventsBz := observable.Observable[either.Either[[]byte]](eventsBzObs)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414600750",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t\ttypedObsrvbl := channel.MapReplay(\n          \n          \n            \n            \t\t\tctx,\n          \n          \n            \n            \t\t\tlatestReplayBufferSize,\n          \n          \n            \n            \t\t\teventsBz,\n          \n          \n            \n            \t\t\trClient.newEventsBytesToTypeMapFn(errCh),\n          \n          \n            \n            \t\t)\n          \n          \n            \n            \n          \n          \n            \n            \t\t// Initially set latestObsvbls and update if after retrying on error.\n          \n          \n            \n            \t\trClient.latestObsvblsReplayPublishCh <- typedObsrvbl.(R)\n          \n          \n            \n            \t\ttypedObs := channel.MapReplay(\n          \n          \n            \n            \t\t\tctx,\n          \n          \n            \n            \t\t\tlatestReplayBufferSize,\n          \n          \n            \n            \t\t\teventsBz,\n          \n          \n            \n            \t\t\trClient.newEventsBytesToTypeMapFn(errCh),\n          \n          \n            \n            \t\t)\n          \n          \n            \n            \n          \n          \n            \n            \t\t// Initially set latestObs and update if after retrying on error.\n          \n          \n            \n            \t\trClient.latestObsvblsReplayPublishCh <- typedObs.(R)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414601075",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "\ud83d\ude0e",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414601613",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "UPDATE: maybe something like cachedObs is even better?",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414602595",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Thus far, I've been naming functions that are intended to be used with channel.Map() as mapXXX. Wdyt about something like this?:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            // newEventsBytesToTypeMapFn is a factory for a function which is intended\n          \n          \n            \n            // to be used as a transformFn in a channel.Map() call. Since the map function\n          \n          \n            \n            // is called asynchronously, this factory creates a closure around an error\n          \n          \n            \n            // channel which can be used for asynchronous error signaling from within the\n          \n          \n            \n            // map function, and handling from the Map call context.\n          \n          \n            \n            //\n          \n          \n            \n            // The map function itself attempts to deserialize the given byte slice as a\n          \n          \n            \n            // the EventsReplayClient's generic typed event, using the decoder function provided.\n          \n          \n            \n            // If the events bytes observable contained an error, this value is not emitted\n          \n          \n            \n            // (skipped) on the destination observable of the map operation.\n          \n          \n            \n            //\n          \n          \n            \n            // If deserialisation failed because the event bytes were for a different event\n          \n          \n            \n            // type, this value is also skipped. If deserialisation failed for some other\n          \n          \n            \n            // reason, this function panics.\n          \n          \n            \n            func (rClient *replayClient[T, R]) newEventsBytesToTypeMapFn(errCh chan<- error) func(\n          \n          \n            \n            // newMapEventsBytesToTFn is a factory for a function which is intended\n          \n          \n            \n            // to be used as a transformFn in a channel.Map() call. Since the map function\n          \n          \n            \n            // is called asynchronously, this factory creates a closure around an error\n          \n          \n            \n            // channel which can be used for asynchronous error signaling from within the\n          \n          \n            \n            // map function, and handling from the Map call context.\n          \n          \n            \n            //\n          \n          \n            \n            // The map function itself attempts to deserialize the given byte slice as a\n          \n          \n            \n            // the EventsReplayClient's generic typed event, using the decoder function provided.\n          \n          \n            \n            // If the events bytes observable contained an error, this value is not emitted\n          \n          \n            \n            // (skipped) on the destination observable of the map operation.\n          \n          \n            \n            //\n          \n          \n            \n            // If deserialisation failed because the event bytes were for a different event\n          \n          \n            \n            // type, this value is also skipped. If deserialisation failed for some other\n          \n          \n            \n            // reason, this function panics.\n          \n          \n            \n            func (rClient *replayClient[T, R]) newMapEventsBytesToTFn(errCh chan<- error) func(",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414605388",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "\ud83d\udcaf",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414605801",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "DISMISSED",
                                        "bodyText": "Not a complete review, but leaving some comments in the interim.\n\n\nReally good PR overall with lots of good comments, good code, great functionality, etc...\n\n\nLeft some non-actionable comments throughout. Feel free to treat them as FYI and resolve\n\n\nI think there is a big opportunity for smaller PRs when we hit something like this in the future. For example, this was titled off-chain but you ended up introducing on-chain components. Even though the ordering of implementation may have led to this, we could've split out on-chain vs off-chain, the EventsReplayClient into its own thing, the actual business logic, etc... I think it could be 2-4 modular PRs that are easier to review in isolation.\n\n\nThe majority of the comments in this document are great but sometimes the comment just describes the actual code line underneath which isn't useful.\n\n\nAs an extreme example: const n = 5 is a constant with the name n equaling to 5\nIn the particularly hard to understand parts (e.g. observable of observables observing observables), explaining why would go a long way!",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "what do you think of adding a different error here?\nI feel like if unmarshalling failed, we'd hit line 36. I think should explicitly say something that'll imply: Block Header height is 0, may be an umarshalling issue.\nWdyt?",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414582562",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // NewBlockClient creates a new block client from the given dependencies and\n          \n          \n            \n            // cometWebsocketURL. It uses the defined committedBlocksQuery to subscribe to\n          \n          \n            \n            // newly committed block events and maps them to Block objects, using the\n          \n          \n            \n            // newCometBlockEvent function as the mapping function.\n          \n          \n            \n            //\n          \n          \n            \n            // This is an implementation of the EventsReplayClient[Block] generic.\n          \n          \n            \n            // correctly mock the interface.\n          \n          \n            \n            // NewBlockClient creates a new block client from the given dependencies and\n          \n          \n            \n            // cometWebsocketURL. It uses a pre-defined committedBlocksQuery to subscribe to\n          \n          \n            \n            // newly committed block events which are mapped to Block objects.\n          \n          \n            \n            //\n          \n          \n            \n            // This implementsthe EventsReplayClient[Block] generic to correctly mock the interface.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414587957",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // Package websocket provides a websocket client used to connect to a node\n          \n          \n            \n            // Package websocket provides a websocket client used to connect to a pocket node",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414588897",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "We can leave this as is, but generally I try to avoid this level of implementation detail in the comments.\nIf we ever abstract websocket to use something other than gorilla/websocket, there's a high likelihood the developer will forget to update this too.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414589759",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "PUC explaining why.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414590293",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "I kind of feel like this belongs alongside everything in supplier.go. Please revert",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414591020",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Can you #PUC on where/how this is used? Reading this is even confusing me, so a bit more context on a use-case would help.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414766716",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "#PUC \u261d\ufe0f\nI was going to challenge that block is the right package name if exposing EventsReplayClient was it's goal, so please consider that as well.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414778232",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // delegationEventQuery is the query used by the EventsQueryClien to subscribe\n          \n          \n            \n            // delegationEventQuery is the query used by the EventsQueryClient to subscribe",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414778461",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "\ud83d\ude0e",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414778706",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Either pre-defined or hard-coded\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            // dependencies and cometWebsocketURL. It uses the defined delegationEventQuery\n          \n          \n            \n            // dependencies and cometWebsocketURL. It uses the pre-defined delegationEventQuery",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414779099",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "There's a lot of how and not enough why in these comments.\nTrying to emphasize with someone new to the codebase who is making their way through.\nNot asking to change it here (too much work) but keep this in mind for the future.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414779652",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "@bryanchriswhite Even though I observed (pun intended) the evolution of observables, it's really hard for me to understand what this is doing.\n@h5law Can you #PUC on what this enables (not just a description of the type)?",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414784488",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // and closes all subsequent connections.\n          \n          \n            \n            // and closes all downstream connections.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414785012",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            //\t- Create app and gateway actors\n          \n          \n            \n            // - Create app and gateway actors",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414785218",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // TODO(@h5law): Figure out how to use real components of the localnet\n          \n          \n            \n            // TODO_UPNEXT(@h5law): Figure out how to use real components of the localnet",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414785428",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Ditto the comment and file name",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414785879",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Not actionable\n@h5law Not going to ask to break this PR into smaller components, but for future reference, we could have made it easier but making the on-chain piece a separate PR upstream of this.\nI realize you probably implemented the other part first, but more of a decision once it was complete.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414786945",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Great changes to the unit tests!",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414788381",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t// Emit the application delegation change event\n          \n          \n            \n            \t// Emit the application undelegation change event",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414789213",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t\tlogger.Error(\"Failed to emit application delegation change event: %v\", err)\n          \n          \n            \n            \t\tlogger.Error(\"Failed to emit application undelegation change event: %v\", err)",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414789332",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "We should add the gateway address here as well.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414790049",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "We should add the gateway address here as well.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414790100",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Let's add gateway_address or delegatee_address here too.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414810089",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \tErrEventsWebsocketReceive = sdkerrors.Register(codespace, 1, \"failed to receive event\")\n          \n          \n            \n            \tErrEventsWebsocketReceive = sdkerrors.Register(codespace, 1, \"failed to receive event over websocket connection to pocket node\")",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414811038",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "One of the reasons I believe you're struggling with this test is because we're trying to use keeper outside of on-chain code. Seems to be the first instance of it:\n\nIf you look in x/supplier/client/cli/query_claim_test.go, what we do is:\n\nCreate an in-memory network\nUse the test CLI to create claim objects\n\n@bryanchriswhite is reworking that code in #236 but the idea is the same and what I think you want instead of using the keepers directly.",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414814844",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "We already have DefaultApplicationModuleGenesisState, so I don't think copy-pasting that is correct.\nWhy not consolidate the two?",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414817107",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "Ditto for DefaultGatewayModuleGenesisState",
                                                        "author": {
                                                            "login": "Olshansk"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1414817261",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "\ud83d\udc4d I would even suggest omitting the reference to \"unmarshaling\" because it's already expressed in the error description.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415688187",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I think we can broaden the constraint, at this low level, to be cosmos-sdk based chains/networks/nodes. Wdyt?",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415690333",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This was my suggestion. My rationale was that the tx client can be expressed more simply in terms of an EventsReplayClient for the same reasons as BlockClient and DelegationClient.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415697476",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "(cc @Olshansk)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415700255",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "// CommittedBlocksSequence returns a replay observable of new block events.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415703643",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Tbh that seems totally fair, this specific example involves quite high-level abstractions/objects. A future rename may go a long way but in the meantime, this indirection is the trade-off for:\n\nSmaller step sizes between components (e.g. EventsQueryClient --> EventsReplayClient --> BlockClient).\nDelaying migration away from gomock.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415714614",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I did this as well in #236 (here) because I was not prepared to refactor all the usages of networkWithApplicationObjects(). However, I don't see where this is being used in this branch.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415730721",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Wdyt about renaming this (see #239 comment)?\nWe loose the specificity of whether the app is the delegatee or the delegator but that is unambiguously defined by the protocol so I think it's worth the trade-off.\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            type DelegateeChange interface {\n          \n          \n            \n            type Redelegation interface {",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415926761",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // BlockReplayObservable wraps the generic\n          \n          \n            \n            // observable.ReplayObservable[Block] type\n          \n          \n            \n            // BlockReplayObservable is a defined type which is a replay observable of type Block.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415940512",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Rataionale behind \"defined type\" nomenclature: https://chat.openai.com/share/8f5daa07-dc01-4434-a978-c728923f6e78",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415941546",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Wdyt about something like this?\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            \t// latestObsvblsReplayBufferSize is the replay buffer size of the\n          \n          \n            \n            \t// latestObsvbls replay observable which is used to cache the latest observable.\n          \n          \n            \n            \t// It is updated with a new \"active\" observable when a new\n          \n          \n            \n            \t// events query subscription is created, for example, after a non-persistent\n          \n          \n            \n            \t// connection error.\n          \n          \n            \n            \tlatestObsvblsReplayBufferSize = 1\n          \n          \n            \n            \t// latestReplayBufferSize is the replay buffer size of the latest replay\n          \n          \n            \n            \t// observable which is notified when block commit events are received\n          \n          \n            \n            \t// by the events query client subscription created in goPublishEvents.\n          \n          \n            \n            \tlatestReplayBufferSize = 1\n          \n          \n            \n            \t// replayObsCacheBufferSize is the replay buffer size of the\n          \n          \n            \n            \t// replayObsCache replay observable which is used to cache the replay\n          \n          \n            \n            \t// observable that is notified of new events.\n          \n          \n            \n            \t// It, replayObsCache, is updated with a new \"active\" observable when a new\n          \n          \n            \n            \t// events query subscription is created, for example, after a non-persistent\n          \n          \n            \n            \t// connection error.\n          \n          \n            \n            \treplayObsCacheBufferSize = 1\n          \n          \n            \n            \t// replayObsBufferSize is the replay buffer size of the replay observable\n          \n          \n            \n            \t// which is notified of new events.\n          \n          \n            \n            \treplayObsBufferSize = 1",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415968048",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "See #220 (comment) and #220 (comment).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415971174",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1dd4fc5",
                                                            "authoredDate": "2023-12-03T16:31:21Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t// latestObsvbls is a replay observable with replay buffer size 1,\n          \n          \n            \n            \t// which holds the \"active latest observable\" which is notified when\n          \n          \n            \n            \t// new events are received by the events query client subscription\n          \n          \n            \n            \t// created in goPublishEvents. This observable (and the one it emits) closes\n          \n          \n            \n            \t// when the events bytes observable returns an error and is updated with a\n          \n          \n            \n            \t// new \"active\" observable after a new events query subscription is created.\n          \n          \n            \n            \tlatestObsvbls observable.ReplayObservable[U]\n          \n          \n            \n            \t// replayObsCache is a replay observable with replay buffer size 1,\n          \n          \n            \n            \t// which holds the \"active replay observable\" which is notified of new\n          \n          \n            \n            \t// events. The \"active replay observable\" closes in the event of an upstream\n          \n          \n            \n            \t// error, and a new \"active\" observable is published to replayObsCache after\n          \n          \n            \n            \t//  a new events query subscription is created.\n          \n          \n            \n            \treplayObsCache observable.ReplayObservable[U]",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415980747",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \tlatestObsvbls,\n          \n          \n            \n            \t\tlatestObsvblsReplayPublishCh := channel.NewReplayObservable[U](\n          \n          \n            \n            \t\tctx,\n          \n          \n            \n            \t\tlatestReplayBufferSize,\n          \n          \n            \n            \t)\n          \n          \n            \n            \trClient.latestObsvbls = observable.ReplayObservable[U](latestObsvbls)\n          \n          \n            \n            \trClient.latestObsvblsReplayPublishCh = latestObsvblsReplayPublishCh\n          \n          \n            \n            \treplayObsCache,\treplayObsCachePublishCh := channel.NewReplayObservable[U](\n          \n          \n            \n            \t\tctx,\n          \n          \n            \n            \t\treplayObsCacheBufferSize,\n          \n          \n            \n            \t)\n          \n          \n            \n            \trClient.replayObsCache = observable.ReplayObservable[U](replayObsCache)\n          \n          \n            \n            \trClient.replayObsPublishCh = replayObsPublishCh",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415985013",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t// latestObsvblsReplayPublishCh is the publish channel for latestObsvbls.\n          \n          \n            \n            \t// It's used to set latestObsvbls initially and subsequently update it, for\n          \n          \n            \n            \t// example, when the connection is re-established after erroring.\n          \n          \n            \n            \tlatestObsvblsReplayPublishCh chan<- U\n          \n          \n            \n            \t// replayObsCachePublishCh is the publish channel for replayObsCache.\n          \n          \n            \n            \t// It's used to initially set and subsequently update the events replay observable; for\n          \n          \n            \n            \t// example, when the connection is re-established after erroring.\n          \n          \n            \n            \treplayObsCachePublishCh chan<- U",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415990512",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I think this should be received as a parameter and should not have a default (i.e. I think we should remove this const).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1415997101",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \treplayObs := observable.ReplayObservable[R](rClient.latestObsvbls)\n          \n          \n            \n            \treplayObs := observable.ReplayObservable[R](rClient.replayObsCache)",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416004743",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "#PUC if we make replayObsBufferSize a parameter of the constructor.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416005925",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // which is notified when new events are received by the events query subscription.\n          \n          \n            \n            // which is notified when new events are received by the encapsulated EventsQueryClient.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416007320",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \t// Get the latest events observable from the replay observable. We only ever\n          \n          \n            \n            \t// want the last 1 as any prior latest events observable values are closed.\n          \n          \n            \n            \t// Directly accessing the zeroth index here is safe because the call to Last\n          \n          \n            \n            \t// is guaranteed to return a slice with at least 1 element.\n          \n          \n            \n            \t// Get the active event replay observable from replayObsCache. Only the last element\n          \n          \n            \n            \t// is useful as any prior elements are closed replay observables.\n          \n          \n            \n            \t// Directly accessing the zeroth index here is safe because the call to Last\n          \n          \n            \n            \t// is guaranteed to return a slice with at least 1 element.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416011259",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'm imagining something like this:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            // DelegateeChangesSequence returns a replay observable of observables for\n          \n          \n            \n            // delegation events from the DelegationClient.\n          \n          \n            \n            func (b *delegationClient) DelegateeChangesSequence(ctx context.Context) client.DelegateeChangeReplayObservable {\n          \n          \n            \n            // RedelegationsSequence returns a replay observable of Redelgation events\n          \n          \n            \n            // observed by the  DelegationClient.\n          \n          \n            \n            func (b *delegationClient) RedelegationsSequence(ctx context.Context) client.RedelegationsReplayObservable {",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416015332",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "WDYT of the update? @Olshansk @bryanchriswhite",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416120916",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "5fb8c91",
                                                            "authoredDate": "2023-12-04T22:28:33Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "@Olshansk https://arc.net/l/quote/npxdzlgu this approach was in progress and I will go back to it after your comment",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416151165",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "No we only need the app address there is no need for any other fields, adds bloat we dont use",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416227794",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Remnants from my old test strategy\nremoving",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416228472",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "[linter-name (fail-on-found)] reported by reviewdog \ud83d\udc36// TODO_IN_THIS_COMMIT: godoc",
                                                        "author": {
                                                            "login": "github-actions"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416244260",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "28e4923",
                                                            "authoredDate": "2023-12-05T20:29:55Z"
                                                        }
                                                    }
                                                },
                                                {
                                                    "node": {
                                                        "bodyText": "[linter-name (fail-on-found)] reported by reviewdog \ud83d\udc36// TODO_IN_THIS_COMMIT: move to pkg/client/events/...",
                                                        "author": {
                                                            "login": "github-actions"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416244262",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "28e4923",
                                                            "authoredDate": "2023-12-05T20:29:55Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Am against this as it is irrelevent to its usage",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416244716",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "See other comments on this",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416244898",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Tried and failed left comment, think its something to do with the networks subscribiton to events unsure atm.",
                                                        "author": {
                                                            "login": "h5law"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1416475303",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "6cdab38",
                                                            "authoredDate": "2023-12-04T22:53:26Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "I'm noticing that this diagram needs one of:\nA. Its own legend, in which the usage via network I/O association direction matches the diagram\nB. To be rewritten in terms of the legend provided in the previous section (i.e. turn it upside-down)\nC. A note or some other indicator that the legend in the section above only applies to that section and/or does not apply to this section\nI think A is ideal but C would be sufficient for now. I think this diagram reads better as written (as opposed to upside-down). I also think that the component diagrams above read best  they way they are (i.e. shouldn't be turned upside-down either).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417011181",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // Define an interface to represent the onchain event\n          \n          \n            \n            // Define an interface to represent an arbitrary onchain event",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417014472",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Why does this function need to close over the ctx? It doesn't look like the returned function uses it at all. \ud83e\udd14",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417018681",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Now that the block client exposes #LastNBlocks()  instead of #LatestBlock(), I think it's prudent that we increase this. I think we should also rename it to defaultBlocksReplayLimit and add a TODO:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            \treplayObsBufferSize  = 1 // the amount of events we want before they are emitted\n          \n          \n            \n            \t// TODO_TECHDEBT/TODO_FUTURE: add a `blocksReplayLimit` field to the block client struct that defaults to this but can be overridden via an option in future work.\n          \n          \n            \n            \tdefaultBlocksReplayLimit  = 100 // the number of blocks that the replay observable returned by LastNBlocks() will be able to replay.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417030309",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // LatestsNEvents returns the latest n blocks from the BockClient.\n          \n          \n            \n            // LatestsNBlocks returns the last n blocks observed by the BockClient.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417034621",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            // through a ReplayObservable. This enables consumers to listen for on-chain\n          \n          \n            \n            // application delegation changes and react to them asynchronously.\n          \n          \n            \n            // through a ReplayObservable. This enables consumers to listen for newly\n          \n          \n            \n            // committed blocks and react to them asynchronously.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417036467",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Similar feedback to #220 (comment).",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417040558",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "NIT:\n  \n    \n      \n        Suggested change\n      \n    \n    \n      \n          \n            \n            \t// Initialise the mapped client\n          \n          \n            \n            \t// Initialize the mapped client",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417043709",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "Suggested change\n      \n    \n    \n      \n          \n            \n            \tlatestObsvbls,\n          \n          \n            \n            \t\tlatestObsvblsReplayPublishCh := channel.NewReplayObservable[U](\n          \n          \n            \n            \t\tctx,\n          \n          \n            \n            \t\treplayObsBufferSize,\n          \n          \n            \n            \t)\n          \n          \n            \n            \trClient.replayObsCache = observable.ReplayObservable[U](latestObsvbls)\n          \n          \n            \n            \trClient.replayObsCachePublishCh = latestObsvblsReplayPublishCh\n          \n          \n            \n            \treplayObsCache, replayObsCachePublishCh := channel.NewReplayObservable[U](\n          \n          \n            \n            \t\tctx,\n          \n          \n            \n            \t\treplayObsBufferSize,\n          \n          \n            \n            \t)\n          \n          \n            \n            \trClient.replayObsCache = observable.ReplayObservable[U](replayObsCache)\n          \n          \n            \n            \trClient.replayObsCachePublishCh = replayObsCachePublishCh",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417045072",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "node": {
                                        "state": "COMMENTED",
                                        "bodyText": "",
                                        "comments": {
                                            "edges": [
                                                {
                                                    "node": {
                                                        "bodyText": "This file should probably be renamed to redelegation.go as well.",
                                                        "author": {
                                                            "login": "bryanchriswhite"
                                                        },
                                                        "url": "https://github.com/pokt-network/poktroll/pull/220#discussion_r1417051233",
                                                        "originalCommit": {
                                                            "abbreviatedOid": "1320539",
                                                            "authoredDate": "2023-12-06T01:55:22Z"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "textMatches": [
                        {
                            "property": "comments.body"
                        }
                    ]
                }
            ],
            "pageInfo": {
                "endCursor": "Y3Vyc29yOjI=",
                "hasNextPage": false,
                "hasPreviousPage": false,
                "startCursor": "Y3Vyc29yOjE="
            },
            "issueCount": 2
        }
    }
}